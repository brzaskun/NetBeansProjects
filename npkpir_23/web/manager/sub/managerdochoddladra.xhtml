
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:bcf="http://brzaskun.com/facelets">
    <p:outputPanel>
        <f:view>
            <h:form>
                <h:outputText value="rok deklaracji:" style="text-shadow: #6374AB 1px -1px 1px"/>
                <p:selectOneMenu id="rokWpisu" value="#{dochodDlaDRAView.rok}" style="width: 70px;">
                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                    <f:selectItems value="#{roki.rokiList}"/>
                    <p:ajax event="change" partialSubmit="true" update="@form"/>
                </p:selectOneMenu>
                <h:outputText value="miesiÄ…c deklaracji:" style="text-shadow: #6374AB 1px -1px 1px"/>
                <p:selectOneMenu id="miesiacWpisu" value="#{dochodDlaDRAView.mc}" style="width: 70px;">
                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                    <f:selectItems value="#{mce.mceList}"/>
                    <p:ajax event="change" partialSubmit="true" listener="#{dochodDlaDRAView.init()}" update="@form"/>
                </p:selectOneMenu>
                <p:dataTable value="#{dochodDlaDRAView.wiersze}" var="item" style="width: 1300px;padding: 20px;"
                             emptyMessage="nie pobrano danych" id="wykazschem" rowKey="#{item.id}"
                             selection="#{dochodDlaDRAView.selected}" selectionMode="single" sortBy="#{item.id}" sortOrder="ascending">
                    <p:column width="20">
                        <f:facet name="header">
                            <h:outputText value="id"/>
                        </f:facet>
                        <h:outputText value="#{item.id}"/>
                    </p:column>
                    <p:column width="200">
                        <f:facet name="header">
                            <h:outputText value="podatnik"/>
                        </f:facet>
                         <h:outputText value="#{item.podatnik.printnazwa}"/>
                    </p:column>
                    <p:column width="80">
                        <f:facet name="header">
                            <h:outputText value="NIP"/>
                        </f:facet>
                        <h:outputText value="#{item.podatnik.nip}"/>
                    </p:column>
                    <p:column width="30">
                        <f:facet name="header">
                            <h:outputText value="rok"/>
                        </f:facet>
                        <h:outputText value="#{item.rok}"/>
                    </p:column>
                    <p:column width="30">
                        <f:facet name="header">
                            <h:outputText value="mc"/>
                        </f:facet>
                        <h:outputText value="#{item.mc}"/>
                    </p:column>
                    <p:column width="200">
                        <f:facet name="header">
                            <h:outputText value="imie nazwisko"/>
                        </f:facet>
                        <h:outputText value="#{item.imienazwisko}"/>
                    </p:column>
                    <p:column width="140">
                        <f:facet name="header">
                            <h:outputText value="opodatkowanie"/>
                        </f:facet>
                        <h:outputText value="#{item.opodatkowanie}" rendered="#{!item.opodatkowanie.equals('brak opodatkowania')}"/>
                        <h:outputText value="brak opodatkowania" rendered="#{item.opodatkowanie.equals('brak opodatkowania')}" style="color: darkviolet"/>
                    </p:column>
                    <p:column width="60">
                        <f:facet name="header">
                            <h:outputText value="udzial"/>
                        </f:facet>
                        <bcf:inputpl value="#{item.udzial}"/>
                    </p:column>
                     <p:column width="60">
                        <f:facet name="header">
                            <h:outputText value=""/>
                        </f:facet>
                         <h:outputText value="brak dok. w mcu" rendered="#{item.brakdokumentow}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="dochod"/>
                        </f:facet>
                        <bcf:outputpl value="#{item.dochod}" rendered="#{!item.brakdokumentow and item.dochod gt 0.0}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="przychod"/>
                        </f:facet>
                        <bcf:outputpl value="#{item.przychod}" rendered="#{!item.brakdokumentow and item.przychod gt 0.0}"/>
                    </p:column>
                    <p:column width="40" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="PIT"/>
                        </f:facet>
                        <bcf:outputpl value="&#x2713;" rendered="#{item.jestpit}" style="color: green;"/>
                    </p:column>
                </p:dataTable>
            </h:form>
        </f:view>
    </p:outputPanel>
</ui:composition>   

