<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:bcf="http://brzaskun.com/facelets">
    <p:tab  title="#{mgs.symulacjawynikurok}" >
        <style>
            .gridtablicasyntetyczne .ui-datatable-odd td{
                height : 25px !important;
                padding: 0px 1px  !important;
            }
            .gridtablicasyntetyczne .ui-datatable-even td{
                height : 25px !important;
                padding: 0px 1px  !important;
            }

        </style>
        <h:form id="formsymulacjanarastajaco">
            <p:panelGrid columns="6" style="margin-left: 2%;" >
                <h:outputText value="m-c" style="margin-right: 10px;"/>
                <p:column>
                    <p:selectOneMenu id="miesiacWpisu" value="#{WpisView.miesiacWpisu}">
                        <p:ajax event="change" listener="#{symulacjaWynikuNarastajacoView.odswiezsymulacjewynikunar}" update="@form"/>
                        <f:selectItems value="#{Mce.mceList}"/>
                    </p:selectOneMenu>
                </p:column>
                <p:column>
                    <p:commandButton value="#{mgs.pobierz}" actionListener="#{symulacjaWynikuNarastajacoView.odswiezsymulacjewynikunar}" style="width: 120px; margin-left: 20px;" 
                                     oncomplete="r('akordeon:formsymulacjanarastajaco:drukujsymulacjanar').show();"
                                     update="@form"/>
                </p:column>
                <h:outputText value="#{mgs.przetwarzanie}"/>
                <p:commandButton id="drukujsymulacjanar" value="#{mgs.drukuj}" actionListener="#{symulacjaWynikuNarastajacoView.drukuj()}" style="width: 120px; margin-left: 20px; display: none;" oncomplete="wydruksymulacjawynikunar('#{WpisView.podatnikWpisu}')"/><!--
                <p:commandButton value="#{mgs.drukujszcz}" actionListener="#{symulacjaWynikuView.drukuj(2)}" style="width: 120px; margin-left: 15px;" oncomplete="wydruksymulacjawyniku('#{WpisView.podatnikWpisu}')"/>-->
            </p:panelGrid>
            <p:dataTable id="tablicasymulacjasumanar" value="#{symulacjaWynikuNarastajacoView.listamiesiecy}" var="loop" rowKey="#{loop.id}"
                         emptyMessage="#{mgs.niepobranosuma}" selectionMode="single" 
                         styleClass="gridtablicasyntetyczne"  style="margin-top: 10px; width: 950px; padding: 10px;" widgetVar="tablicasymulacjasumanar"
                         >
                <f:facet name="header">
                    <h:outputText value="#{mgs.pobraniewynikow}"/>
                </f:facet>
                <p:column headerText="#{mgs.miesiąc}" width="40" style="text-align: center;">
                    <h:outputText value="#{loop.mc}"/>
                </p:column>
                <p:column headerText="#{mgs.przychód}" width="60" >
                    <bcf:outputpl value="#{loop.przychody}"/>
                </p:column>
                <p:column headerText="#{mgs.koszt}" width="60" >
                    <bcf:outputpl value="#{loop.koszty}"/>
                </p:column>
                <p:column headerText="#{mgs.wynikfinansowy}" width="60" >
                    <bcf:outputpl value="#{loop.wynikfinansowy}"/>
                </p:column>
                <p:column headerText="#{mgs.npup}" width="60" >
                    <bcf:outputpl value="#{loop.npup}"/>
                </p:column>
                <p:column headerText="#{mgs.nkup}" width="60" >
                    <bcf:outputpl value="#{loop.nkup}"/>
                </p:column>
                <p:column headerText="#{mgs.wynikpodatkowy}" width="60" >
                    <bcf:outputpl value="#{loop.wynikpodatkowy}"/>
                </p:column>
                <p:column headerText="#{mgs.pdop}" width="60">
                    <bcf:outputpl value="#{loop.podatek}"/>
                </p:column>
                <p:column headerText="#{mgs.wynikfinansowynetto}" width="60">
                    <bcf:outputpl value="#{loop.wynikfinansowynetto}"/>
                </p:column>
                <p:column headerText="#{mgs.zapisał}" width="60" style="text-align: center;" >
                    <h:outputText value="#{loop.wprowadzil}"/>
                </p:column>
                <p:column headerText="#{mgs.data}" width="60" style="text-align: center;">
                    <h:outputText value="#{loop.data}">
                        <f:convertDateTime pattern="yyyy/MM/dd" />
                    </h:outputText>
                </p:column>
                <p:column style="text-align: center;" width="30">
                    <p:commandButton icon="ui-icon-trash" actionListener="#{symulacjaWynikuNarastajacoView.usun(loop)}" update="@form" />
                </p:column>
            </p:dataTable>
              <p:dataTable id="tablicasymulacjasuma" value="#{symulacjaWynikuNarastajacoView.pozycjePodsumowaniaWyniku}" var="loop" rowKey="#{loop.nazwa}"
                         emptyMessage="#{mgs.niepobranosuma}" selectionMode="single" 
                         styleClass="gridtablicasyntetyczne"  style="margin-top: 10px; width: 300px; padding: 10px;" widgetVar="tablicasymulacjasuma"
                         >
                <f:facet name="header">
                    <h:outputText value="#{mgs.obliczeniewyniku}"/>
                </f:facet>
                <p:column headerText="#{mgs.opis}" width="140" >
                    <h:outputText value="#{loop.nazwa}"/>
                </p:column>
                <p:column headerText="#{mgs.kwota}" width="60" >
                    <bcf:outputpl value="#{loop.wartosc}"/>
                </p:column>
            </p:dataTable>
             <p:dataTable id="tablicasymulacjapodatekpopmce" value="#{symulacjaWynikuNarastajacoView.pozycjeObliczeniaPodatkuPoprzedniemiesiace}" var="loop1" rowKey="#{loop1.nazwa}"
                         emptyMessage="#{mgs.nieobliczonopodatku}" selectionMode="single" 
                         styleClass="gridtablicasyntetyczne"  style="margin-top: 5px; width: 300px; padding: 10px;" widgetVar="tablicasymulacjapodatekpopmce"
                         >
                <f:facet name="header">
                    <h:outputText value="#{mgs.obliczeniepodatkupopmc}"/>
                </f:facet>
                <p:column headerText="#{mgs.opis}" width="140" >
                    <h:outputText value="#{loop1.nazwa}"/>
                </p:column>
                <p:column headerText="#{mgs.kwota}" width="60" >
                    <bcf:outputpl value="#{loop1.wartosc}"/>
                </p:column>
            </p:dataTable>
            <p:dataTable id="tablicasymulacjapodatek" value="#{symulacjaWynikuNarastajacoView.pozycjeObliczeniaPodatku}" var="loop1" rowKey="#{loop1.nazwa}"
                         emptyMessage="#{mgs.nieobliczonopodatku}" selectionMode="single" 
                         styleClass="gridtablicasyntetyczne"  style="margin-top: 5px; width: 300px; padding: 10px;" widgetVar="tablicasymulacjapodatek"
                         >
                <f:facet name="header">
                    <h:outputText value="#{mgs.obliczeniepodatkumc}"/>
                </f:facet>
                <p:column headerText="#{mgs.opis}" width="140" >
                    <h:outputText value="#{loop1.nazwa}"/>
                </p:column>
                <p:column headerText="#{mgs.kwota}" width="60" >
                    <bcf:outputpl value="#{loop1.wartosc}"/>
                </p:column>
            </p:dataTable>
            <p:dataTable id="tablicasymulacjawyplata" value="#{symulacjaWynikuNarastajacoView.pozycjeDoWyplaty}" var="loop1" rowKey="#{loop1.nazwa}"
                         emptyMessage="#{mgs.nieobliczonopodatku}" selectionMode="single" 
                         styleClass="gridtablicasyntetyczne"  style="margin-top: 5px; width: 300px; padding: 10px; margin-bottom: 400px;" widgetVar="tablicasymulacjapodatek"
                         >
                <f:facet name="header">
                    <h:outputText value="#{mgs.kwotadowyplatynar}"/>
                </f:facet>
                <p:column headerText="#{mgs.opis}" width="140" >
                    <h:outputText value="#{loop1.nazwa}"/>
                </p:column>
                <p:column headerText="#{mgs.kwota}" width="60" >
                    <bcf:outputpl value="#{loop1.wartosc}"/>
                </p:column>
            </p:dataTable>
           

        </h:form>
    </p:tab>  
</ui:composition> 
