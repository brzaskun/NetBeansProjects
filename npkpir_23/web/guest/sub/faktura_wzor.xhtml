<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:pe="http://primefaces.org/ui/extensions">
      <p:tab id="wzor" title="Wzór faktury">
            <script type="text/javascript">
                function zachowaj(me) {
                    var p = $(document.getElementById(me.id));
                    var position = p.position();
                    var lewy = parseInt(position.left);
                    var gora = parseInt(position.top);
                    var wysokosc = parseInt($(document.getElementById(me.id)).height());
                    $("#form\\:lewy").val(lewy);
                    $("#form\\:gora").val(gora);
                    $("#form\\:zachowaj").click();
                }

                $(function() {
                    var lewy = $("#form\\:lewyTablica").val().split(",");
                    var gora = $("#form\\:goraTablica").val().split(",");
                    var co = $("#form\\:coTablica").val().split(",");
                    petlawywolujaca(lewy, gora, co);
                    var moduly = ['odbiorca','wystawca','data','fakturanumer','platnosc','datasprzedazy','towary','dozaplaty','podpis'];
                    for(var modul in moduly){
                        var nazwa = moduly[modul];
                        var nazwaakordeon = "#form\\:akordeon\\:"+nazwa;
                        $(nazwaakordeon).bind('mouseup', function(e) {
                            $("#form\\:co").val(this.id);
                            zachowaj(this);
                        });
                    };
                });
            </script>
            <div style="background-color: #6374AB; height: 1600px; width: 1080px;">
                <p:panel id="odbiorca" style="width: 350px;"  >  
                    <p:panelGrid columns="2">
                        <h:outputText value="Odbiorca: " />
                        <h:outputText value="Jan Kowalski " />
                        <h:outputText value="Adres:" />  
                        <h:outputText value="70-100 Szczecin ul. Bananowa 15" />
                        <h:outputText value="Nip:" />  
                        <h:outputText value="851-100-50-08" />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="odbiorca" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                <p:panel id="wystawca" style="width: 350px;"  >  
                    <p:panelGrid columns="2">
                        <h:outputText value="Wystawca: " />
                        <h:outputText value="Bober Mizialski"/>
                        <h:outputText value="Adres:" />  
                        <h:outputText value="70-100 Poznan ul. Bananowa 15" />
                        <h:outputText value="Nip:" />  
                        <h:outputText value="851-100-50-08" />
                    </p:panelGrid>
                </p:panel>
                <p:draggable for="wystawca" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                <p:panel id="data" style="width: 240px;">  
                    <p:panelGrid columns="1">
                        <h:outputText value="Szczecin, dnia 18.05.2013 " />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="data" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                <p:panel id="fakturanumer" style="width: 240px;"  >  
                    <p:panelGrid columns="2">
                        <h:outputText value="Faktura VAT nr 1/2003" style="font-size: larger;"/>
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="fakturanumer" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                <p:panel id="platnosc" style="width: 450px;"  >  
                    <p:panelGrid columns="4">
                        <h:outputText value="sposób zapłaty" /><h:outputText value="przelew" />
                        <h:outputText value="termin zapłaty" /><h:outputText value="2013-05-06" />
                    </p:panelGrid>
                    <p:panelGrid columns="2" style="width: 403px;">
                        <h:outputText value="konto bankowe" /><h:outputText value="1524 1524 1158 1522 1211 1574" />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="platnosc" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                <p:panel id="datasprzedazy" >  
                    <p:panelGrid columns="2">
                        <h:outputText value="data sprzedaży 21-05-2013" />
                    </p:panelGrid>
                    <p:draggable for="datasprzedazy" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                </p:panel>
                <p:panel id="towary" style="width: 980px;"  >  
                    <p:dataTable value="#{pozycjeNaFakturzeView.zestaw}" var="wpis">
                        <p:column headerText="lp"><h:outputText value="#{wpis.lp}"/></p:column>
                        <p:column headerText="Nazwa towaru/usługi"><h:outputText value="#{wpis.nazwa}"/></p:column>
                        <p:column headerText="Symbol PKWiU"><h:outputText value="#{wpis.PKWiU}"/></p:column>
                        <p:column headerText="j.m."><h:outputText value="#{wpis.jednostka}"/></p:column>
                        <p:column headerText="il."><h:outputText value="#{wpis.ilosc}"/></p:column>
                        <p:column headerText="Cena jedn. bez pod."><h:outputText value="#{wpis.cena}"/></p:column>
                        <p:column headerText="Wartość bez pod."><h:outputText value="#{wpis.netto}"/></p:column>
                        <p:column headerText="Podatek %"><h:outputText value="#{wpis.podatek}"/></p:column>
                        <p:column headerText="Podatek kwota"><h:outputText value="#{wpis.podatekkwota}"/></p:column>
                        <p:column headerText="Wartość z pod."><h:outputText value="#{wpis.brutto}"/></p:column>
                        <p:column headerText="Uwagi"><h:outputText value=" "/></p:column>
                    </p:dataTable>
                    <p:draggable for="towary" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                </p:panel>
                <p:panel id="dozaplaty" style="width: 450px;"  >  
                    <p:panelGrid columns="2">
                        <h:outputText value="słownie do zapłaty: trzy dwieście cztery sześćset 98/100" />
                    </p:panelGrid>
                    <p:draggable for="dozaplaty" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                </p:panel>
                <p:panel id="podpis" style="width: 350px;"  >  
                    <p:panelGrid columns="1">
                        <h:outputText value="___________________________________" />
                        <h:outputText value="upoważniony do wystawienia faktury" />
                        <h:outputText value="Marianna Kowalska-Botonek" />
                    </p:panelGrid>
                    <p:draggable for="podpis" cursor="move" opacity="0.9" containment="parent" grid="3, 3"/>
                </p:panel>
            </div>
        </p:tab>
</ui:composition>   

