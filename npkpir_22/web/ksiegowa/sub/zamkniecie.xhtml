<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <p:dataTable value="#{zamkniecieView.mapaokresowPobrane}" var="wpis"  paginator="true" paginatorAlwaysVisible="true" rows="12"
                 paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                 rowsPerPageTemplate="12,18,24,32,50" id="dataTable"
                 rowKey="#{wpis}" selectionMode="single"
                 emptyMessage="W danym miesiącu nie było żadnych zapisów" resizableColumns="true" style="width: 700px;">
        <f:facet name="header">  
            <h:outputText value="Lata obrachunkowe" />  
        </f:facet>
        <p:column id="rok" headerText="rok" >  
            <h:outputText value="#{wpis.rok}" style="padding-left: 40%;" />
        </p:column>
        <p:column id="miesiac" headerText="miesiac"  >  
            <h:outputText value="#{wpis.miesiac}" style="padding-left: 40%;"/>
        </p:column>
        <p:column id="zamkniety" headerText="zamkniety" >  
            <h:selectBooleanCheckbox value="#{wpis.zamkniety}" readonly="#{wpis.edytuj eq true ? false : true}" >
                <p:ajax event="change" global="false" listener="#{zamkniecieView.zapisokresy()}" update=":form:dataTable"/>
            </h:selectBooleanCheckbox>
        </p:column>
        <p:column id="edytuj" headerText="edytuj" >  
            <h:selectBooleanCheckbox value="#{wpis.edytuj}" >
                <p:ajax event="change" listener="#{zamkniecieView.zapisokresyedit()}" update=":form:dataTable" />
            </h:selectBooleanCheckbox>
        </p:column>
    </p:dataTable>
    
     
</ui:composition>   

