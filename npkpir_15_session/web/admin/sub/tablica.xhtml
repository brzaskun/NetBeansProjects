
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:outputPanel id="wrapper">
        <p:dataTable  var="wpis" value="#{UzView.obiektUZjsf}" id="uzytkownicyLista" editable="true"
                      paginator="true" paginatorAlwaysVisible="true" rows="8"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="8,12,16,20,50" resizableColumns="true"
                      rowKey="#{wpis.login}" selection="#{UzView.selUzytkownik}" selectionMode="single"> 
            <p:ajax event="rowEdit" update=":form:messages" listener="#{UzView.edit}" />
            <f:facet name="header">  
                <h:outputText value="Wykaz użytkowników" />  
            </f:facet>

            <p:column id="idColumn" headerText="id" filterBy="#{wpis.login}" filterMatchMode="contains" sortBy="#{wpis.login}">  
                <f:facet name="header">  
                    <h:outputText value="login" />  
                </f:facet> 
                        <h:outputText value="#{wpis.login}" />
            </p:column>
            <p:column id="dataColumn" headerText="imie" filterBy="#{wpis.imie}" filterMatchMode="contains" sortBy="#{wpis.imie}" >  
                <f:facet name="header">  
                    <h:outputText value="imie" />  
                </f:facet> 
                <h:outputText value="#{wpis.imie}"/>
            </p:column>
            <p:column id="kltColumn" headerText="nazwisko" filterBy="#{wpis.nazw}" filterMatchMode="contains" sortBy="#{wpis.nazw}">  
                <f:facet name="header">  
                    <h:outputText value="nazwisko" />  
                </f:facet> 
                <h:outputText value="#{wpis.nazw}" />
            </p:column>
            <p:column id="kwaColumn" headerText="haslo">  
                <f:facet name="header">  
                    <h:outputText value="haslo" />  
                </f:facet> 
                <h:outputText value="#{wpis.haslo}" />
            </p:column>
            <p:column id="nrdokColumn" headerText="uprawnienia" filterBy="#{wpis.uprawnienia}" filterMatchMode="contains" sortBy="#{wpis.uprawnienia}">  
                <f:facet name="header">  
                    <h:outputText value="uprawnienia" />  
                </f:facet> 
                 <p:cellEditor>
                    <f:facet name="output">  
                        <h:outputText value="#{wpis.uprawnienia}" />
                    </f:facet>
                    <f:facet name="input">  
                        <h:inputText value="#{wpis.uprawnienia}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column id="editColumn" headerText="edytuj">
                <p:rowEditor />  
            </p:column>
            <p:column id="deleteColumn" headerText="usuń">
                <h:commandButton  action="#{UzView.destroy()}" value="Usuń" >
                    <f:setPropertyActionListener target="#{UzDAO.selUzytkownik}" value="#{wpis}"/>
                </h:commandButton>
            </p:column>
        </p:dataTable>
        <br />
        <h:commandButton actionListener="#{UzytkownikView.setDodajUz(true)}" value="Dodaj" rendered="#{not UzytkownikView.isDodajUz()}"/>
        <h:commandButton actionListener="#{UzytkownikView.setDodajUz(false)}" value="Wroc" rendered="#{UzytkownikView.isDodajUz()}"/>
    </p:outputPanel>
</ui:composition>   

