<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    >
    <p:dialog id="dialgoczaspracyurlop" header="Rozliczenie urlopu" widgetVar="dialgoczaspracyurlop"  
              resizable="false"  onShow="ustawdialog('dialgoczaspracyurlop','centertile',1650,800);" closeOnEscape="true" onHide="resetujdialog('dialgoczaspracyurlop');" 
              fitViewport="true">
        <p:ajax event="open" listener="#{pracownikUrlopView.init()}" update="PracownikUrlopForm" global="false"/>
        <p:outputPanel>
             <h:form id="PracownikUrlopForm">
                
                  <p:panelGrid columns="4" rendered="#{pracownikUrlopView.urlopprezentacja != null}">
                        <p:outputLabel value="nazwisko i imię pracownika" for="urlopimie" />
                        <p:inputText id="urlopimie" value="#{pracownikUrlopView.urlopprezentacja.umowa.angaz.pracownik.nazwiskoImie}" readonly="true"/>
                        <p:outputLabel value="rok rozliczeniowy" for="urloprok" />
                        <p:inputText id="urloprok" value="#{pracownikUrlopView.urlopprezentacja.rok}" readonly="true"/>
                        <p:outputLabel value="zaległy rok uprzedni" for="urloplp" />
                        <p:inputNumber id="urloplp" value="#{pracownikUrlopView.urlopprezentacja.okrespoprzedni}"  size="5"  maxlength="3" decimalPlaces="1" decimalSeparator="." inputStyle="text-align: right"/>
                        <p:outputLabel value="wymiar rok bieżący" for="urloplp1" />
                        <p:inputNumber id="urloplp1" value="#{pracownikUrlopView.urlopprezentacja.wymiarokresbiezacy}"  size="5" maxlength="3" decimalPlaces="1" decimalSeparator="." inputStyle="text-align: right"/>
                    </p:panelGrid><!--
-->                <p:panel header="wykorzystanie urlopu rok biezacy" rendered="#{pracownikUrlopView.urlopprezentacja != null}">
                    <p:dataTable id="datalist" value="#{pracownikUrlopView.urlopprezentacja.urlopwykorzystanieList}" var="urlopwykorzystanie"
                                 rowKey="#{urlopwykorzystanie.id}" emptyMessage="brak urlopu w roku bieżącym" rowIndexVar="indexurlop"
                                 style="height: 250px;overflow-y: scroll; width: 450px; margin-left: 50px;" sortBy="#{urlopwykorzystanie.mc}"
                                 >
                            <p:column width="40" style="text-align: center;">
                                <f:facet name="header">
                                    <h:outputText value=""/>
                                </f:facet>
                                <h:outputText value="#{indexurlop+1}"/>
                            </p:column>
                            <p:column width="40" style="text-align: center;">
                                <f:facet name="header">
                                    <h:outputText value="mc"/>
                                </f:facet>
                                <h:outputText value="#{urlopwykorzystanie.mc}"/>
                            </p:column>
                            <p:column width="70" style="text-align: center;">
                                <f:facet name="header">
                                    <h:outputText value="data"/>
                                </f:facet>
                                <h:outputText value="#{urlopwykorzystanie.data}"/>
                            </p:column>
                            <p:column width="40" style="text-align: center;">
                                <f:facet name="header">
                                    <h:outputText value="godzin"/>
                                </f:facet>
                                <h:outputText value="#{urlopwykorzystanie.godziny}"/>
                            </p:column>
                            <p:column width="40" style="text-align: center;">
                                <f:facet name="header">
                                    <h:outputText value="etat"/>
                                </f:facet>
                                <h:outputText value="#{urlopwykorzystanie.etat1}/#{urlopwykorzystanie.etat2}"/>
                            </p:column>
                        </p:dataTable>
                </p:panel>
                  <p:panelGrid columns="4" rendered="#{pracownikUrlopView.urlopprezentacja != null}">
                        <p:outputLabel value="do przeniesienia" for="przeniesienia" />
                        <h:outputText id="przeniesienia" value="#{pracownikUrlopView.urlopprezentacja.doprzeniesienia}"/>
                    </p:panelGrid>
            </h:form>
        </p:outputPanel>
    </p:dialog>
</ui:composition>

