<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"

    xmlns:bcf="http://brzaskun.com/facelets"
    >
    <p:panel header="paski wynagrodzeń" rendered="#{pasekwynagrodzenView.ileszczegolow eq 'prosta'}">
        <p:dataTable id="datalist2" value="#{pasekwynagrodzenView.lista}" var="itempasek" emptyMessage="Brak listy za dany okres"
                     selectionMode="single" selection="#{pasekwynagrodzenView.selectedlista}" rowIndexVar="indexpasek"
                     rowKey="#{itempasek.kalendarzmiesiac.hashCode()}" sortBy="#{itempasek.kalendarzmiesiac.angaz.pracownik.nazwiskoImie}"
                     style="height: 430px; overflow-y: scroll;"
                     >
            <p:column width="20" style="text-align: center;">
                <p:rowToggler rendered="#{itempasek.pobierzskladniki.size() gt 0}"/>
            </p:column>
            <p:column>
                <p:panelGrid styleClass="pasekwync">
                    <p:row>
                        <p:column width="80" style="text-align: center;">
                            <h:outputText value="koszt prac."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="razem brutto"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podst.społ."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="chorobowe"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="emerytalne"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="rentowe"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="razem społ. prac."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="brutto-zus"/>
                        </p:column>
                        <p:column width="20">
                            <h:outputText value=" "/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column width="40" style="text-align: center;">
                            <bcf:outputpl value="#{itempasek.kosztpracodawcy}" rendered="#{itempasek.importowany eq false}"/>
                            <h:outputText value="/import" style="color:blue;" rendered="#{itempasek.importowany eq true}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.brutto}"/>
                        </p:column>
                        <p:column >
                            <bcf:outputpl value="#{itempasek.podstawaskladkizus}"/>
                        </p:column>
                        <p:column >
                            <bcf:outputpl value="#{itempasek.pracchorobowe}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.pracemerytalne}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.pracrentowe}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.razemspolecznepracownik}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.bruttominusspoleczne}"/>
                        </p:column>
                        <p:column width="20" style="text-align: center;">
                            <p:commandButton icon="pi pi-print" actionListener="#{pasekwynagrodzenView.drukuj(itempasek)}" global="false"/>
                            <p:commandButton icon="pi pi-fast-forward" actionListener="#{pasekwynagrodzenView.przelicz(itempasek)}" global="false" update="PasekwynagrodzenListForm "/>
                        </p:column>
                    </p:row>
                    <!--                        <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="fgsp"/>
                                                </f:facet>
                                                <bcf:outputpl value="#{itempasek.fgsp}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="fp"/>
                                                </f:facet>
                                                <bcf:outputpl value="#{itempasek.fp}"/>
                                            </p:column>-->
                    <p:row>
                        <p:column>
                            <h:outputText value="#{itempasek.rok}/#{itempasek.mc}"/>
                        </p:column>
                      
                        <p:column>
                            <h:outputText value="koszty uzyskania"/>
                        </p:column>
                         <p:column>
                            <h:outputText value="ulga dla kl.sr"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podstawa opodatk."/>
                        </p:column>
                       
                        <p:column>
                            <h:outputText value="kwota wolna"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="prac zdrow. do odliczenia"/>
                        </p:column>
                         <p:column>
                            <h:outputText value="prac zdrow. do potrącenia"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podatek dochodowy"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="do wypł."/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{itempasek.nazwiskoImie}"/>
                        </p:column>

                        <p:column>
                            <bcf:outputpl value="#{itempasek.kosztyuzyskania}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.ulgadlaklasysredniejSuma}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podstawaopodatkowania}"/>
                        </p:column>
                        
                        <p:column>
                            <bcf:outputpl value="#{itempasek.kwotawolna}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.praczdrowotnedoodliczenia}" rendered="#{itempasek.rokI lt 2022}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.praczdrowotnedopotracenia}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podatekdochodowy}" rendered="#{itempasek.do26lat eq false or itempasek.podatekdochodowy gt 0.0}"/>
                            <h:outputText value="pon. 26lat" rendered="#{itempasek.do26lat and itempasek.podatekdochodowy eq 0.0}" style="color: blue;"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.netto}"/>
                        </p:column>
                        <p:column width="20" style="text-align: center;">
                            <p:commandButton icon="pi pi-trash" actionListener="#{pasekwynagrodzenView.usun(itempasek)}" global="false" update="@form NieobecnoscListForm DefinicjalistaplacCreateForm2"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:column>
            <p:rowExpansion>
                <p:dataTable id="datalist1" value="#{itempasek.pobierzskladniki}" var="itempasekszcz"
                             rowIndexVar="indexpasekszcz"
                             style="height: 200px; overflow-y: scroll;width: 1420px;"
                             >
                    <p:column style="text-align: center;" headerText="lp" width="40">
                        <h:outputText value="#{itempasekszcz.lp}"/>
                    </p:column>
                    <p:column headerText="kod" width="25" style="text-align: center;">
                        <h:outputText value="#{itempasekszcz.kod}"/>
                    </p:column>
                    <p:column headerText="zus" width="25" style="text-align: center;">
                        <h:outputText value="#{itempasekszcz.kodzus}"/>
                    </p:column>
                    <p:column headerText="składnik" width="320">
                        <h:outputText value="#{itempasekszcz.nazwa}"/>
                    </p:column>
                    <p:column headerText="imp.uwagi" width="60" style="text-align: center;">
                        <h:outputText value="za urlop" rendered="#{itempasekszcz.urlopSP}"/>
                         <h:outputText value="redukcja" rendered="#{itempasekszcz.redukcjaSP}"/>
                         <h:outputText value="potrącenie" style="color:red;" rendered="#{itempasekszcz.potracenie}"/>
                    </p:column>
                    <p:column headerText="dni" width="60">
                        <h:outputText value="#{itempasekszcz.dniobowiazku}/#{itempasekszcz.dniprzepracowane}"/>
                    </p:column>
                    <p:column headerText="godziny" width="60">
                        <h:outputText value="#{itempasekszcz.godzinyobowiazku}/#{itempasekszcz.godzinyprzepracowane}"/>
                    </p:column>
                    <p:column headerText="data od" width="60">
                        <h:outputText value="#{itempasekszcz.dataod}"/>
                    </p:column>
                    <p:column headerText="data do" width="60">
                        <h:outputText value="#{itempasekszcz.datado}"/>
                    </p:column>
                    <p:column headerText="umowa" width="70">
                        <bcf:outputpl value="#{itempasekszcz.wynagrodzeniezmienna}"/>
                    </p:column>
                     <p:column headerText="st/h" width="40" >
                        <bcf:outputpl value="#{itempasekszcz.stawkanagodzine}"/>
                    </p:column>
                    <p:column headerText="st/dz" width="60">
                        <bcf:outputpl value="#{itempasekszcz.stawkadzienna}"/>
                    </p:column>
                    <p:column headerText="kwota" width="70">
                        <bcf:outputpl value="#{itempasekszcz.kwota}"/>
                    </p:column>
                    <p:column headerText="redukcja" width="70">
                        <bcf:outputpl value="#{itempasekszcz.redukcja}"/>
                    </p:column>
                    <p:column headerText="waluta" width="30">
                        <bcf:outputpl value="#{itempasekszcz.waluta}"/>
                    </p:column>
                </p:dataTable>
            </p:rowExpansion>

        </p:dataTable>
    </p:panel>
</ui:composition>
