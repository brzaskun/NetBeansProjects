<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"

    xmlns:bcf="http://brzaskun.com/facelets"
    >
    <p:dialog id="dialogdanez3" header="Zestawienie danych do Z-3" widgetVar="dialogdanez3"  
              resizable="false"  onShow="ustawdialog('dialogdanez3','centertile',1650,800);" closeOnEscape="true" onHide="resetujdialog('dialogdanez3');" 
              fitViewport="true" >
        <p:ajax event="open" listener="#{z3daneView.init()}" update="KartyZ3Form" global="false"/>
        <p:ajax event="close" listener="#{z3daneView.close()}" global="false"/>
         <p:ajax event="open" listener="#{z3daneView.open()}" global="false"/>
        <p:outputPanel>
            <h:form  styleClass="formadmin" id="KartyZ3Form">
                <p:panelGrid columns="2">
                    <h:outputText value="pracownik"/>
                    <h:outputText value="#{wpisView.pracownik.nazwiskoImie}"/>
                    <h:outputText value="data od"/>
                    <h:outputText value="#{z3daneView.dataod}"/>
                    <h:outputText value="data do"/>
                    <h:outputText value="#{z3daneView.datado}"/>
                </p:panelGrid>
                <p:commandButton value="Drukuj" type="button" icon="pi pi-print" styleClass="shadow-1 mb-3" style="margin-top: 20px;">
                    <p:printer target="datalist" />
                </p:commandButton>
                <p:dataTable id="datalist" value="#{z3daneView.lista}" var="itemkarta"
                             rowKey="#{itemkarta.id}"  rowIndexVar="indexka"
                             style="height: 450px; overflow-y: scroll;width: 900px; margin-top: 20px;" emptyMessage="Nie pobrano danych"
                             >
                    <p:column width="20" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="lp"/>
                        </f:facet>
                        <h:outputText value="#{indexka+1}"/>
                    </p:column>
                    <p:column width="20" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="rok"/>
                        </f:facet>
                        <h:outputText value="#{itemkarta.rok}"/>
                    </p:column>
                    <p:column width="20" style="text-align: center;word-break: break-all;">
                        <f:facet name="header">
                            <h:outputText value="mc"/>
                        </f:facet>
                        <h:outputText value="#{itemkarta.mc}"/>
                    </p:column>
                    <p:column width="20" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="uzup."/>
                        </f:facet>
                        <h:outputText value="&#x2714;" rendered="#{itemkarta.uzupelniane eq true}" style="color: green;"/>
                    </p:column>
                    <p:column width="40">
                        <f:facet name="header">
                            <h:outputText value="staÅ‚e"/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.stale}"/>
                    </p:column>
                    <p:column width="40">
                        <f:facet name="header">
                            <h:outputText value="zmienne"/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.zmienne}"/>
                    </p:column>
                    <p:column width="40">
                        <f:facet name="header">
                            <h:outputText value="premie"/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.premie}"/>
                    </p:column>
                     <p:column width="40" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="dni nom."/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.dniobowiazku}"/>
                    </p:column>
                    <p:column width="40" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="dni przep."/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.dniprzepracowane}"/>
                    </p:column>
                    <p:column width="40" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="godz. nom."/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.godzinyobowiazku}"/>
                    </p:column>
                    <p:column width="40" style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="godz. przep."/>
                        </f:facet>
                        <bcf:outputpl value="#{itemkarta.godzinyprzepracowane}"/>
                    </p:column>
                </p:dataTable>
                <p:messages showDetail="true"/>
            </h:form>
        </p:outputPanel>
    </p:dialog>
</ui:composition>

