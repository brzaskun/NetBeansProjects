<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"

    xmlns:bcf="http://brzaskun.com/facelets"
    xmlns:pe="http://primefaces.org/ui/extensions">
    <p:panel header="paski wynagrodzeń" rendered="#{pasekwynagrodzenView.ileszczegolow eq 'oddelegowanie'}">
        <p:dataTable id="datalist" value="#{pasekwynagrodzenView.lista}" var="itempasek" emptyMessage="Brak listy za dany okres"
                     selectionMode="single" selection="#{pasekwynagrodzenView.selectedlista}" rowIndexVar="indexpasek"
                     rowKey="#{itempasek.kalendarzmiesiac.hashCode()}" sortBy="#{itempasek.kalendarzmiesiac.umowa.angaz.pracownik.nazwiskoImie}"
                     style="height: 450px; overflow-y: scroll;width: 1400px;"
                     >
            <p:column width="20" style="text-align: center;">
                <p:rowToggler rendered="#{itempasek.pobierzskladniki.size() gt 0}"/>
            </p:column>
            <p:column>
                <p:panelGrid styleClass="pasekwync">
                    <p:row>
                        <p:column width="80" style="text-align: center;">
                            <h:outputText value="zapisane" rendered="#{itempasek.id ne null}" styleClass="wwb"/>
                            <h:outputText value="nowe" rendered="#{itempasek.id eq null}" styleClass="ww"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{itempasek.wiekpasek}" style="color: green;"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="brutto zus kraj"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="brutto bez zus"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="brutto bez zus i pod."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="za oddeleg. w wal."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="za oddeleg. w pln"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="razem brutto"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="dieta"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="limit bez zus"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="kwota ponad limit"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podst.społ."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="chorobowe"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="emerytalne"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="rentowe"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="razem społ. prac."/>
                        </p:column>
                        <p:column width="20">
                            <h:outputText value=" "/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column width="40" style="text-align: center;">
                            <h:outputText value="#{indexpasek+1}"/>
                            <h:outputText value="/import" style="color:blue;" rendered="#{itempasek.importowany eq true}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="nierezydent" rendered="#{itempasek.nierezydent}" style="color: green;"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.bruttozuskraj}" />
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.bruttobezzus}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.bruttobezzusbezpodatek}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.oddelegowaniewaluta}"/>
                            <h:outputText value="#{itempasek.oddelegowaniewalutasymbol}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.oddelegowaniepln}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.brutto}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.dieta}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.limitzus}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.limitzuspoza}"/>
                        </p:column>
                        <p:column >
                            <bcf:outputpl value="#{itempasek.podstawaskladkizus}"/>
                        </p:column>
                        <p:column >
                            <bcf:outputpl value="#{itempasek.pracchorobowe}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.pracemerytalne}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.pracrentowe}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.razemspolecznepracownik}"/>
                        </p:column>
                        <p:column width="20" style="text-align: center;">
                            <p:commandButton icon="fa fa-print" actionListener="#{pasekwynagrodzenView.drukuj(itempasek)}" global="false"/>
                        </p:column>
                    </p:row>
                    <!--                        <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="fgsp"/>
                                                </f:facet>
                                                <bcf:outputpl value="#{itempasek.fgsp}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="fp"/>
                                                </f:facet>
                                                <bcf:outputpl value="#{itempasek.fp}"/>
                                            </p:column>-->
                    <p:row>
                        <p:column>
                            <h:outputText value="#{itempasek.rok}/#{itempasek.mc}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="brutto-zus"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="1/3 diet"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="koszty uzyskania"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podstawa opodatk."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podatek"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="kwota wolna"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="pod. ubezp zdrow."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="prac zdrowotne"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="prac zdrow. do odliczenia"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="prac zdrow. do potrąc."/>
                        </p:column>
                        <p:column>
                            <h:outputText value="podatek dochodowy"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="netto"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="potracenia"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="do wypł."/>
                        </p:column>
                        <p:column width="20">
                            <h:outputText value="kurs"/>
                            <bcf:outputkurs value="#{itempasek.kurs}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{itempasek.nazwiskoImie}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.bruttominusspoleczne}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.dietaodliczeniepodstawaop}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.kosztyuzyskania}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podstawaopodatkowania}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podatekwstepny}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.kwotawolna}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podstawaubezpzdrowotne}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.praczdrowotne}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.praczdrowotnedoodliczenia}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.praczdrowotnedopotracenia}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.podatekdochodowy}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.nettoprzedpotraceniami}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.potracenia}"/>
                        </p:column>
                        <p:column>
                            <bcf:outputpl value="#{itempasek.netto}"/>
                        </p:column>
                        <p:column width="20" style="text-align: center;">
                            <p:commandButton icon="fa fa-trash" actionListener="#{pasekwynagrodzenView.usun(itempasek)}" global="false" update="@form"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:column>
            <p:rowExpansion>
                <p:dataTable id="datalist" value="#{itempasek.pobierzskladniki}" var="itempasekszcz"
                             rowIndexVar="indexpasekszcz"
                             style="height: 200px; overflow-y: scroll;width: 1050px;"
                             >
                    <p:column style="text-align: center;" headerText="lp" width="40">
                        <h:outputText value="#{itempasekszcz.lp}"/>
                    </p:column>
                    <p:column headerText="kod" width="40">
                        <h:outputText value="#{itempasekszcz.kod}"/>
                    </p:column>
                    <p:column headerText="składnik" width="260">
                        <h:outputText value="#{itempasekszcz.nazwa}"/>
                    </p:column>
                    <p:column headerText="imp.uwagi" width="60" style="text-align: center;">
                        <h:outputText value="za urlop" rendered="#{itempasekszcz.urlopSP}"/>
                         <h:outputText value="redukcja" rendered="#{itempasekszcz.redukcjaSP}"/>
                    </p:column>
                    <p:column headerText="dni" width="60">
                        <h:outputText value="#{itempasekszcz.dniobowiazku}/#{itempasekszcz.dniprzepracowane}"/>
                    </p:column>
                    <p:column headerText="godziny" width="60">
                        <h:outputText value="#{itempasekszcz.godzinyobowiazku}/#{itempasekszcz.godzinyprzepracowane}"/>
                    </p:column>
                    <p:column headerText="data od" width="60">
                        <h:outputText value="#{itempasekszcz.dataod}"/>
                    </p:column>
                    <p:column headerText="data do" width="60">
                        <h:outputText value="#{itempasekszcz.datado}"/>
                    </p:column>
                    <p:column headerText="kwota" width="80">
                        <bcf:outputpl value="#{itempasekszcz.kwota}"/>
                    </p:column>
                    <p:column headerText="redukcja" width="80">
                        <bcf:outputpl value="#{itempasekszcz.redukcja}"/>
                    </p:column>
                </p:dataTable>
            </p:rowExpansion>

        </p:dataTable>
    </p:panel>
</ui:composition>
