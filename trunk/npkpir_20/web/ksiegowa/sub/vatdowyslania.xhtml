<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
             <h:form id="formX">
                 <p:growl id="msg"/>
                     <p:panel header="Wykaz oczekujacych deklaracji"/>
                     <p:dataTable value="#{deklaracjevatView.oczekujace}" var="item" sortBy="#{item.miesiac}" resizableColumns="true"  editable="true" id="dokumentyLista" emptyMessage="brak deklaracji do wyslania">
                         <p:ajax event="rowEdit" update=":formX:msg" listener="#{deklaracjevatView.edit}" />
                         <p:column headerText="indetyfikator">
                              <p:cellEditor>  
                                    <f:facet name="output">  
                                         <h:outputText value="#{item.identyfikator}"/>
                                    </f:facet>  
                                    <f:facet name="input">  
                                        <h:inputText value="#{item.identyfikator}"/>
                                    </f:facet>  
                            </p:cellEditor>
                         </p:column>
                         <p:column headerText="kod urzędu" width="60"> 
                             <h:outputText value="#{item.kodurzedu}" style="width: 70px"/>
                         </p:column>
                         <p:column headerText="Rok - Miesiac">
                             <h:outputText value="#{item.rok} - #{item.miesiac}"/>
                         </p:column>
                         <p:column headerText="nr kolejny" width="60">
                             <h:outputText value="#{item.nrkolejny}"/>
                         </p:column>
                         <p:column headerText="podatnik">
                             <h:outputText value="#{item.podatnik}"/>
                         </p:column>
                         <p:column headerText="UPO">
                             <h:outputText value="#{item.upo}" />
                         </p:column>
                         <p:column headerText="dane">
                             <h:outputText value="#{item.selected}"/>
                         </p:column>
                         <p:column id="editColumn" headerText="edytuj" width="70">
                            <p:rowEditor />  
                        </p:column>
                         <p:column id="deleteColumn" headerText="usuń" width="70">
                            <p:commandButton actionListener="#{deklaracjevatView.destroy(item)}" onclick="confirmation.show()" id="delete" icon="ui-icon ui-icon-trash" type="submit"/>
                     </p:column>
                     </p:dataTable>
                 </h:form><br/>
            <h:form>
                <p:commandButton value="wyslij" actionListener="#{beanek.rob()}" update="@form, :form:upo" style="width: 120px;"/><br/><br/>
                <p:panelGrid columns="2">
                <h:outputText value="id"/>
                <h:outputText value="#{beanek.idMB}"/>
                <h:outputText value="stat"/>
                <h:outputText value="#{beanek.statMB}"/>
                <h:outputText value="opis" style="width: 100px;"/>
                <h:outputText value="#{beanek.opisMB}" style="width: 200px;"/>
                </p:panelGrid>
            </h:form>
    <br/>
    <h:form id="form">
                <p:commandButton value="upo" actionListener="#{beanek.pobierz()}" update="@form, :formX:msg" style="width: 120px;"/><br/><br/>
                <p:panelGrid columns="2" id="upo">
                <h:outputText value="id"/>
                <h:inputText value="#{beanek.idpobierz}" style="width: 250px;"/>
                <h:outputText value="upo"/>
                <h:inputTextarea value="#{beanek.upoMB}" readonly="true" cols="150"/>
                <h:outputText value="stat"/>
                <h:outputText value="#{beanek.statMB}"/>
                <h:outputText value="opis"/>
                <h:inputTextarea value="#{beanek.opisMB}" readonly="true" cols="150"/>
                </p:panelGrid>
            </h:form>
</ui:composition>   


