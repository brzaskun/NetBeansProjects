
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:outputPanel id="wrapper">
        <p:dataTable  var="wpis" value="#{sesjaView.wykazsesji}" id="lista" editable="true"
                      paginator="true" paginatorAlwaysVisible="true" rows="20"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="20,50,100" 
                      rowKey="#{wpis.nrsesji}" selection="#{sesjaView.sesja}" selectionMode="single"> 
            <p:ajax event="rowEdit" update=":form:messages"  />
            <f:facet name="header">  
                <h:outputText value="Wykaz sesji" />  
            </f:facet>

            <p:column headerText="nr sesji" filterBy="#{wpis.nrsesji}" filterMatchMode="contains" sortBy="#{wpis.nrsesji}">  
                <h:outputText value="#{wpis.nrsesji}" />
            </p:column>
            <p:column headerText="login" filterBy="#{wpis.uzytkownik}" filterMatchMode="contains" sortBy="#{wpis.uzytkownik}">  
                <h:outputText value="#{wpis.uzytkownik}" />
            </p:column>
            <p:column headerText="ip" filterBy="#{wpis.ip}" filterMatchMode="contains" sortBy="#{wpis.ip}">  
                <h:outputText value="#{wpis.ip}" />
            </p:column>
            <p:column headerText="login" filterBy="#{wpis.zalogowanie}" filterMatchMode="contains" sortBy="#{wpis.zalogowanie}">  
                <h:outputText value="#{wpis.zalogowanie}" />
            </p:column>
            <p:column headerText="logout" filterBy="#{wpis.wylogowanie}" filterMatchMode="contains" sortBy="#{wpis.wylogowanie}">  
                <h:outputText value="#{wpis.wylogowanie}" />
            </p:column>
            <p:column headerText="dokumenty" filterBy="#{wpis.iloscdokumentow}" filterMatchMode="contains" sortBy="#{wpis.iloscdokumentow}">  
                <h:outputText value="#{wpis.iloscdokumentow}" />
            </p:column>
            <p:column headerText="wydruki" filterBy="#{wpis.iloscwydrukow}" filterMatchMode="contains" sortBy="#{wpis.iloscwydrukow}">  
                <h:outputText value="#{wpis.iloscwydrukow}" />
            </p:column>
            <p:column headerText="maile" filterBy="#{wpis.iloscmaili}" filterMatchMode="contains" sortBy="#{wpis.iloscmaili}">  
                <h:outputText value="#{wpis.iloscmaili}" />
            </p:column>
            <p:column id="deleteColumn" headerText="usuń">
                <h:commandButton  action="#{sesjaView.destroy()}" value="Usuń" >
                    <f:setPropertyActionListener target="#{sesjaView.sesja}" value="#{wpis}"/>
                </h:commandButton>
            </p:column>
        </p:dataTable>
        
    </p:outputPanel>
</ui:composition>   
