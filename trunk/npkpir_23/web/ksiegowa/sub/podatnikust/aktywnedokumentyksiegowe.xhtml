<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:pe="http://primefaces.org/ui/extensions">
    <p:tab title="Aktywne dokumenty ksiegowe podatnika"> 
        <h:form id="form6" >
            <h:outputText value="Rodzaje dokumentów księgowych" style="font-size: 15px"/>
            <p:growl id="messages" />

            <h:outputText value="stworzone dokumenty"/><br/>
            <p:panelGrid columns="1" style="width: 900px">
                <p:dataTable id="pDokKsi" value="#{podatnikView.selected.dokumentyksiegowe}"  var="loop"
                             paginatorAlwaysVisible="true" paginator="true" pageLinks="12" rows="7" selectionMode="single" rowKey="#{loop.skrot}"
                             editMode="row" editable="true" scrollable="true">
                    <p:ajax event="rowEdit" update=":akordeon:form6:messages" listener="#{podatnikView.editdok}" />
                    <p:column headerText="skrót">
                        <h:outputText value="#{loop.skrot}" />
                    </p:column>
                    <p:column headerText="nazwa pelna">
                        <h:outputText value="#{loop.nazwa}" />
                    </p:column>
                    <p:column headerText="rodzaj transakcji">
                        <h:outputText value="#{loop.rodzajtransakcji}" />
                    </p:column>
                    <p:column headerText="wzorzec">
                        <p:cellEditor>  
                            <f:facet name="output">  
                                <h:outputText value="#{loop.wzorzec}"/>
                            </f:facet>  
                            <f:facet name="input">  
                                <p:inputText value="#{loop.wzorzec}"/>
                            </f:facet>  
                        </p:cellEditor>
                    </p:column>
                    <p:column id="editColumn" headerText="edytuj" style="width: 40px; height: 40px;">
                        <p:rowEditor />  
                    </p:column>
                    <p:column id="deleteColumn" headerText="usuń">
                        <p:commandButton actionListener="#{podatnikView.usunDokKsi(loop)}" id="delete" icon="ui-icon ui-icon-trash" type="submit" />
                    </p:column>

                    <br/>
                </p:dataTable>
            </p:panelGrid>
        </h:form>
        <h:form id="form7" > 
            <p:focus for="parametryDokKsi"/><br/>
            <h:outputText value="Wpisz nowy dokument"/><br/>
            <p:panelGrid id="parametryDokKsi" columns="4" >
                <h:outputText value="skrót: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.skrot}" />
                <h:outputText value=" nazwa pelna: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.nazwa}" />
                <h:outputText value=" rodzaj transakcji: " />
                <h:selectOneMenu value="#{podatnikView.selectedDokKsi.rodzajtransakcji}" >
                    <f:selectItems value="#{Trans.transListView}"/>
                </h:selectOneMenu>
                <h:outputText value=" wzorzec: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.wzorzec}" />
            </p:panelGrid>
            <p:panelGrid columns="2" style="column-width: 350px; width: 700px">
                <p:commandButton action="#{podatnikView.dodajDokKsi()}" value="dodaj dokument" update="@form"  type="submit" />
            </p:panelGrid>
        </h:form>
    </p:tab>
</ui:composition> 
