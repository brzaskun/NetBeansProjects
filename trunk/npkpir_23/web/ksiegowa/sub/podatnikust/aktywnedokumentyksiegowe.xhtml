<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:pe="http://primefaces.org/ui/extensions">
    <p:tab title="Aktywne dokumenty ksiegowe podatnika"> 
        <h:form id="form6" >
            <h:outputText value="Rodzaje dokumentów księgowych" style="font-size: 15px"/>
            <p:growl id="messages" />

            <h:outputText value="stworzone dokumenty"/><br/>
            <p:panelGrid columns="1" style="max-width: 900px">
                <p:dataTable id="pDokKsi" value="#{podatnikView.selected.dokumentyksiegowe}"  var="loop" selection="#{podatnikView.wybranyRodzajDokumentu}"
                             paginatorAlwaysVisible="true" paginator="true" pageLinks="12" rows="7" selectionMode="single" rowKey="#{loop.rodzajedokPK.skrot}"
                             editMode="row" editable="true" scrollable="true">
                    <p:ajax event="rowSelect" update=":akordeon:form7" listener="#{podatnikView.przygotujdoedycjiDokKsi}" />
                    <p:column headerText="skrót" style="text-align: center;">
                        <h:outputText value="#{loop.rodzajedokPK.skrot}" />
                    </p:column>
                    <p:column headerText="nazwa pelna">
                        <h:outputText value="#{loop.nazwa}" />
                    </p:column>
                    <p:column headerText="rodzaj transakcji">
                        <h:outputText value="#{loop.rodzajtransakcji}" />
                    </p:column>
                    <p:column headerText="wzorzec" style="text-align: center;">
                        <h:outputText value="#{loop.wzorzec}"/>
                    </p:column>
                     <p:column headerText="kategoria" style="text-align: center;">
                        <h:outputText value="#{loop.kategoriadokumentu eq 1 ? 'koszt z VAT' : (loop.kategoriadokumentu eq 2 ? 'przychód z VAT' : (loop.kategoriadokumentu eq 3 ? 'koszt bez VAT' : 'przychód bez VAT'))}" />
                    </p:column>
                    <p:column id="deleteColumn" headerText="usuń" style="text-align: center;">
                        <p:commandButton actionListener="#{podatnikView.usunDokKsi(loop)}" id="delete" icon="ui-icon ui-icon-trash" type="submit" />
                    </p:column>

                    <br/>
                </p:dataTable>
            </p:panelGrid>
        </h:form>
        <h:form id="form7" > 
            <p:focus for="parametryDokKsi"/><br/>
            <h:outputText value="Wpisz nowy dokument"/><br/>
            <p:panelGrid id="parametryDokKsi" columns="6" >
                <h:outputText value="skrót: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.skrot}" />
                <h:outputText value=" nazwa pelna: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.nazwa}" />
                <h:outputText value=" rodzaj transakcji: " />
                <h:selectOneMenu value="#{podatnikView.selectedDokKsi.rodzajtransakcji}" >
                    <f:selectItems value="#{Trans.transListView}"/>
                </h:selectOneMenu>
                <h:outputText value=" wzorzec: " />
                <h:inputText value="#{podatnikView.selectedDokKsi.wzorzec}" />
                 <h:outputText value=" kategoria dokumentu: " />
                <h:selectOneMenu value="#{podatnikView.selectedDokKsi.kategoriadokumentu}">
                    <f:selectItem itemLabel="koszt z VAT" itemValue="1"/>
                <f:selectItem itemLabel="przychód z VAT" itemValue="2"/>
                <f:selectItem itemLabel="koszt bez VAT" itemValue="3"/>
                <f:selectItem itemLabel="przychód bez VAT" itemValue="4"/>
                </h:selectOneMenu>
            </p:panelGrid>
            <p:panelGrid columns="2" style="column-width: 350px; width: 700px">
                <p:commandButton actionListener="#{podatnikView.dodajDokKsi()}" value="dodaj dokument" update=":akordeon:form6" />
                <p:commandButton actionListener="#{podatnikView.editdok()}" value="edytuj dokument" update=":akordeon:form6" />
            </p:panelGrid>
        </h:form>
    </p:tab>
</ui:composition> 
