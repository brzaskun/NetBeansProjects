<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:pe="http://primefaces.org/ui/extensions"
    >
    <p:tabView id="akordeon">
        <p:tab title="Wpisy">
            <h:form id="formX">
                <p:growl id="msg" autoUpdate="true"/>
                <p:panel header="Wykaz wysłanych deklaracji"/>
                <p:dataTable value="#{vatKorektaView.deklaracjeWyslane}" var="item" sortBy="#{item.miesiac}" rowIndexVar="row"
                             id="dokumentyLista" emptyMessage="brak deklaracji do wyslania" selection="#{vatKorektaView.deklaracjaVAT}"
                             paginator="true" paginatorAlwaysVisible="true" rows="1" rowKey="#{item.id}"
                             paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                             rowsPerPageTemplate="1, 6,12,18,24,32,50" sortOrder="descending"
                             >
                    <p:ajax event="rowSelectRadio" listener="#{vatKorektaView.wybranoDeklaracje}" update=":akordeon:wprowadzDokument, :akordeon:formprzedkorekta"/>
                    <p:column selectionMode="single"/>
                    <p:column style="width: 3%;">
                        <p:rowToggler/>
                    </p:column>
                    <p:ajax event="rowEdit" update=":akordeon:formX:msg" listener="#{deklaracjevatView.edit}" />
                    <p:column headerText="wersja" width="60">
                        <h:outputText value="#{item.wzorschemy}"/>
                    </p:column>
                    <p:column headerText="dane">
                        <p:dataGrid columns="1" value="#{item.selected}" var="loop">
                            <h:panelGrid columns="4">
                                <h:outputText value="rodzaj deklaracji"/><h:outputText value="#{loop.rodzajdeklaracji}" style="font-weight: 900;"/>
                                <h:outputText value="podatnik"/><h:outputText value="#{item.podatnik}" style="font-weight: 900;"/>
                                <h:outputText value="miesięczna/kwartalna"/><h:outputText value="#{item.miesiackwartal eq false ? 'miesięczna' : 'kwartalna'}" style="font-weight: 900;"/>
                                <h:outputText value="okres rozliczeniowy"/><h:outputText value="#{item.rok}#{item.rok != null ? '/' : null}#{item.miesiac}" style="font-weight: 900;"/>
                                <h:outputText value="pierw./kor."/><h:outputText value="#{loop.celzlozenia eq 1 ? 'pierwotna' : 'korekta'}" style="font-weight: 900;"/>
                                <h:outputText value="nazwa urzędu"/><h:outputText value="#{loop.nazwaurzedu}"/>
                                <h:outputText value="status"/><h:outputText value="#{item.status}"/>
                                <h:outputText value="opis"/><h:outputText value="#{item.opis}"/>
                                <h:outputText value="data wysyłki"/><h:outputText value="#{item.datazlozenia}"/>
                                <h:outputText value="data potwierdzenia"/><h:outputText value="#{item.dataupo}"/>
                            </h:panelGrid>
                            <h:panelGrid columns="4">
                                <h:outputText value="należny (p.46)"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI46}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="naliczony (p.55)"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI55}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="przeniesienie (p.47)"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI47}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="do zapłaty (p.58)"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI58}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="do zwrotu(p.60)"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI60}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="na rachunek bankowy 25 dni"/><h:outputText value="#{loop.pozycjeszczegolowe.poleI62}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                                <h:outputText value="kwota autoryzacyjna"/><h:outputText value="#{loop.kwotaautoryzacja}" style="float: right;">
                                    <f:convertNumber minFractionDigits="0" locale="PL"/></h:outputText>
                            </h:panelGrid>
                        </p:dataGrid>
                    </p:column>
                    <p:column id="previewColumn" headerText="operacje" width="70">
                        <p:panelGrid columns="1">
                            <p:commandButton value="Pdf" actionListener="#{pdfVAT7.drukuj(item, row)}"  style="margin-left: 10px; width: 80px;"/>
                        </p:panelGrid>
                    </p:column>
                    <p:rowExpansion>
                        <p:column id="ewidencjavat" headerText="treść wysyłki" width="300" resizable="true">
                            <h:outputText value="#{item.deklaracja}"/>
                        </p:column>
                    </p:rowExpansion>
                </p:dataTable>
            </h:form>

            <h:form id="wprowadzDokument">
                <p:panel header="Dane dokumentu korekty do deklaracji #{vatKorektaView.deklaracjaVAT.rok}/#{vatKorektaView.deklaracjaVAT.miesiac}" style="padding: 1%;">
                    <p:focus for="polawprowadzania">
                        <p:panelGrid id="polawprowadzania" columns="4" style="width: 70%;">
                            <h:outputLabel value="rodzaj dokumentu" style="font-weight: 700"/>
                            <h:outputLabel value="nip/nazwa kontrahenta" style="font-weight: 700"/>
                            <h:outputLabel value="nr własny" style="font-weight: 700;"/>
                            <h:outputLabel value="opis transakcji" style="font-weight: 700"/>
                            <h:selectOneMenu id="rodzajTrans" value="#{vatKorektaView.vatKorektaDok.symbolDokumentu}" required="true" title="wybierz rodzaj księgowanego dokumentu" valueChangeListener="#{DokumentView.wybranydokument}"
                                             style="width: 250px; word-break: break-all;">
                                <f:selectItems value="#{vatKorektaView.rodzajedokKlienta}" var="loop" itemLabel="#{loop.skrot} - #{loop.nazwa}" itemValue="#{loop.skrot}"/>
                                <p:ajax event="blur" partialSubmit="true" listener="#{vatKorektaView.podepnijEwidencjeVat()}" global="false" update="@form:tablicavat"/>
                            </h:selectOneMenu> 
                            <p:inputText id="nipkontrahenta" value="#{vatKorektaView.vatKorektaDok.nipKontrahenta}" title="wpisz nip kontrahenta" style="width: 200px;">
                                <f:validateLength minimum="1" maximum="50"/>
                            </p:inputText>
                            <p:inputText id="numerwlasny" value="#{vatKorektaView.vatKorektaDok.nrwłasny}" title="wpisz numer własny faktury" style="width: 200px;">
                                <f:validateLength minimum="1" maximum="50"/>
                            </p:inputText>

                            <p:autoComplete id="opis" value="#{vatKorektaView.vatKorektaDok.opisDokumnetu}" completeMethod="#{Opis.complete}"
                                            var="p" itemLabel="#{p}" itemValue="#{p}"  title="wpisz opis faktury"
                                            minQueryLength="2" maxResults="10" maxlength="40"
                                            effect="clip" autocomplete="true"  queryDelay="1" style="width: 250px;">
                                <p:ajax event="change" partialSubmit="true" global="false"/>
                            </p:autoComplete>
                        </p:panelGrid>
                        <p:dataTable id="tablicavat" value="#{vatKorektaView.vatKorektaDok.ewidencjaVAT}" var="item" emptyMessage="nie ma zapisów w ewidencji vat" style="width: 70%;"
                                     rowIndexVar="row">
                            <p:column headerText="rodzaj ewidencji" style="width: 25%;">
                                <h:outputText value="#{item.opis}"/>
                            </p:column>
                            <p:column headerText="netto" style="width: 20%;">
                                <pe:inputNumber id="netto" value="#{item.netto}" symbol=" zł" required="true" requiredMessage="Brak kwoty - uzupełnij" style="text-align: right;" symbolPosition="s" decimalSeparator="." thousandSeparator=" " decimalPlaces="2" minValue="-10000000" styleClass="wiersznetto"> 
                                    <p:ajax event="change" listener="#{vatKorektaView.wyliczbrutto(item)}" />
                                </pe:inputNumber>
                            </p:column>
                            <p:column headerText="vat" style="width: 20%;">
                                <pe:inputNumber id="vat" value="#{item.vat}" symbol=" zł" required="true" requiredMessage="Brak kwoty - uzupełnij" style="text-align: right;" symbolPosition="s" decimalSeparator="." thousandSeparator=" " decimalPlaces="2" minValue="-10000000" styleClass="wiersznetto"> 
                                    <p:ajax event="change" listener="#{vatKorektaView.wyliczbrutto(item)}" />
                                </pe:inputNumber>
                            </p:column>
                            <p:column headerText="brutto" style="width: 20%;">
                                <pe:inputNumber id="brutto" value="#{item.brutto}" symbol=" zł" required="true" requiredMessage="Brak kwoty - uzupełnij" style="text-align: right;" symbolPosition="s" decimalSeparator="." thousandSeparator=" " decimalPlaces="2" minValue="-10000000" styleClass="wiersznetto"/>
                            </p:column>
                            <p:column headerText="op/zw" style="width: 15%;">
                                <h:selectOneMenu value="#{item.opzw}">
                                    <f:selectItem itemLabel="sprz.op" itemValue="sprz.op"/>
                                    <f:selectItem itemLabel="sprzed.op.izw." itemValue="sprzed.op.izw."/>
                                </h:selectOneMenu>
                            </p:column>
                        </p:dataTable>
                        <p:panel style="padding: 1%">
                            <p:commandButton value="dodaj" actionListener="#{vatKorektaView.dodajDok()}" update=":akordeon:wprowadzDokument, :akordeon:listadodanychdok"/>
                        </p:panel>
                    </p:focus>
                </p:panel>
            </h:form>
            <h:form id="listadodanychdok">
                <p:panel header="Wykaz dodanych pozycji" style="padding: 1%;">
                    <p:dataTable value="#{vatKorektaView.listadokumentowDoKorekty}" var="item">
                        <p:column headerText="nip">
                            <h:outputText value="#{item.nipKontrahenta}"/>
                        </p:column>
                        <p:column headerText="numer">
                            <h:outputText value="#{item.nrwłasny}"/>
                        </p:column>
                        <p:column headerText="netto">
                            <h:outputText value="#{item.netto}" style="float: right;">
                                <f:convertNumber minFractionDigits="2" locale="PL"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="vat">
                            <h:outputText value="#{item.vat}" style="float: right;">
                                <f:convertNumber minFractionDigits="2" locale="PL"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="brutto">
                            <h:outputText value="#{item.brutto}" style="float: right;">
                                <f:convertNumber minFractionDigits="2" locale="PL"/>
                            </h:outputText>
                        </p:column>
                        <p:column >
                            <p:commandButton value="usun" actionListener="#{vatKorektaView.usunDok(item)}" update="@form"/>
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:tab>
        <p:tab title="Przed korektą">
            <h:form id="formprzedkorekta">
            <p:growl id="msg" />
            <p:panel header="Dane deklaracji korygowanej do bieżącej deklaracji VAT7. Podatnik: #{vatKorektaView.deklaracjaVAT.podatnik}"/>
            <h:panelGrid columns="2" columnClasses="fifty-percent,fifty-percent" style="width: 90%;">
                <p:column>
                    <h:panelGrid title="strona podatku należnego" columns="1" frame="box">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług na terytorium kraju,zwolnione od podatku:" for="pole20" />
                            <h:inputText id="pole20" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole20}" title="Pole20"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług poza terytorium kraju:" for="pole21" />
                            <h:inputText id="pole21" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole21}" title="Pole21"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym świadczenie usług, o których mowa w art. 100 ust.1 pkt 4 ustawy:" for="pole22" />
                            <h:inputText id="pole22" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole22}" title="Pole22"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką 0%:" for="pole23" />
                            <h:inputText id="pole23" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole23}" title="Pole23"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym dostawa towarów, o której mowa w art.129 ustawy:" for="pole24" />
                            <h:inputText id="pole24" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole24}" title="Pole24"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box">
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 3% albo 5%" for="pole25" />
                            <h:inputText id="pole25" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole25}" title="Pole25"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole26" />
                            <h:inputText id="pole26" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole26}" title="Pole26"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 7% albo 8%:" for="pole27" />
                            <h:inputText id="pole27" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole27}" title="Pole27"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole28" />
                            <h:inputText id="pole28" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole28}" title="Pole28"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 22% albo 23%:" for="pole29" />
                            <h:inputText id="pole29" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole29}" title="Pole29"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole30" />
                            <h:inputText id="pole30" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole30}" title="Pole30"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Wewnątrzwspólnotowa dostawa towarów:" for="pole31"/>
                            <h:inputText id="pole31" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole31}" title="Pole31"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Eksport towarów:" for="pole32" />
                            <h:inputText id="pole32" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole32}" title="Pole32"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box">
                            <h:outputLabel value="Wewnątrzwspólnotowe nabycie towarów:" for="pole33" />
                            <h:inputText id="pole33" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole33}" title="Pole33"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole34" />
                            <h:inputText id="pole34" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole34}" title="Pole34"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Import towarów, podlegający rozliczeniu zgodnie z art.33a:" for="pole35" />
                            <h:inputText id="pole35" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole35}" title="Pole35"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole36" />
                            <h:inputText id="pole36" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole36}" title="Pole36"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Import usług 38:" for="pole37" />
                            <h:inputText id="pole37" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole37}" title="Pole37"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole38" />
                            <h:inputText id="pole38" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole38}" title="Pole38"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym nabycie od podatników podatku od wartości dodanej usług, do których stosuje się art.28b ustawy:" for="pole39" />
                            <h:inputText id="pole39" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole39}" title="Pole39"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole40" />
                            <h:inputText id="pole40" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole40}" title="Pole40"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, dla których 42. podatnikiem jest nabywca (poz.42 wypełnia tylko nabywca):" for="pole41" />
                            <h:inputText id="pole41" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole41}" title="Pole41"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole42" />
                            <h:inputText id="pole42" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole42}" title="Pole42"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota podatku należnego od towarów i usług objętych spisem z natury, o którym mowa w art.14 ust.5 43. ustawy:" for="pole43" />
                            <h:inputText id="pole43" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole43}" title="Pole43"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podatku należnego od wewnątrzwspólnotowego nabycia środków transportu, wykazanego w poz.34, podlegająca wpłacie w terminie, o którym mowa w art.103 ust.3, w związku z ust.4 ustawy:" for="pole44" />
                            <h:inputText id="pole44" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole44}" title="Pole44"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box" style="text-align: right;">
                            <h:outputLabel value="Razem netto:" for="pole45" />
                            <h:inputText id="pole45" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole45}" title="Pole45"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Razem vat:" for="pole46" />
                            <h:inputText id="pole46" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole46}" title="Pole46"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:column>
                <p:column>
                    <h:panelGrid columns="1" frame="box"  width="100%" >
                        <h:panelGrid title="strona podatku naliczonego"  columns="1">
                            <h:panelGrid columns="2">
                                <h:outputLabel value="Kwota nadwyżki z poprzedniej deklaracji:" for="pole47" />
                                <h:inputText id="pole47" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole47}" title="Pole47"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                                <h:outputLabel value="Kwota podatnku naliczonego wynikającego ze spisu z natury:" for="pole48" />
                                <h:inputText id="pole48" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole48}" title="Pole48"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                            <h:panelGrid columns="4" frame="box">
                                <h:outputLabel value="Nabycie towarów i usług zaliczanych u podatnika do środków trwałych:" for="pole49" />
                                <h:inputText id="pole49" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole49}" title="Pole49"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="vat:" for="pole50" />
                                <h:inputText id="pole50" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole50}" title="Pole50"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Nabycie towarów i usług pozostałych:" for="pole51" />
                                <h:inputText id="pole51" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole51}" title="Pole51"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="vat:" for="pole52" />
                                <h:inputText id="pole52" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole52}" title="Pole52"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                            <h:panelGrid columns="2" >
                                <h:outputLabel value="Korekta podatku naliczonego od nabycia środków trwałych:" for="pole53" />
                                <h:inputText id="pole53" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole53}" title="Pole53"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Korekta podatku naliczonego od pozostałych nabyć:" for="pole54" />
                                <h:inputText id="pole54" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole54}" title="Pole54"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Razem kwota podatku naliczonego do odliczenia:" for="pole55" />
                                <h:inputText id="pole55" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole55}" title="Pole55"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                        </h:panelGrid>
                    </h:panelGrid>  
                    <h:panelGrid columns="1" frame="box"  width="100%" > 
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota wydatkowana na zakup kas rejestrujących, do odliczenia w danym okresie rozliczeniowym - jest VAT do zapłaty:" for="pole56" />
                            <h:inputText id="pole56" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole56}" title="Pole56"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podatku objęta zaniechaniem poboru:" for="pole57" />
                            <h:inputText id="pole57" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole57}" title="Pole57"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podlegająca wpłacie do urzędu skarbowego:" for="pole58" />
                            <h:inputText id="pole58" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole58}" title="Pole58"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota wydatkowana na zakup kas rejestrujących, przysługująca do zwrotu w danym okresie rozliczeniowym - jest VAT do zwrotu:" for="pole59" />
                             
                            <h:inputText id="pole59" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole59}" title="Pole59"  style="font-weight: 700; text-align: right; width: 80px;" >
                                </h:inputText>
                            <h:outputLabel value="Nadwyżka podatku naliczonego nad należnym:" for="pole60" />
                            <h:inputText id="pole60" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole60}" title="Pole60"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota do zwrotu na rachunek bankowy wskazany przez podatnika:" for="pole61" />
                            <h:inputText id="pole61" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole61}" title="Pole61"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2" frame="box">
                            <h:outputLabel value="w terminie 25 dni:" for="pole62" />
                            <h:inputText id="pole62" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole62}" title="Pole62"  style="font-weight: 700; text-align: right; width: 80px;" onblur="dodajinfopole62();">
                                </h:inputText>
                            <h:outputLabel value="w terminie 60 dni:" for="pole63" />
                            <h:inputText id="pole63" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole63}" title="Pole63"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w terminie 180 dni:" for="pole64" />
                            <h:inputText id="pole64" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole64}" title="Pole64"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2" style="text-align: right;">
                            <h:outputLabel value="Kwota do przeniesienia na następny okres rozliczeniowy:" for="pole65" />
                            <h:inputText id="pole65" value="#{vatKorektaView.deklaracjaVAT.pozycjeszczegolowe.pole65}" title="Pole65"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:column>
               
            </h:panelGrid>
        </h:form>
        </p:tab>
        <p:tab title="Korekta">
             <h:form id="korekta">
            <p:growl id="msg" />
            <p:panel header="Kwoty korektydo bieżącej deklaracji VAT7 . Podatnik: #{vatKorektaView.deklaracjaVATKwotyKorekty.podatnik}"/>
            <h:panelGrid columns="2" columnClasses="fifty-percent,fifty-percent" style="width: 90%;">
                <p:column>
                    <h:panelGrid title="strona podatku należnego" columns="1" frame="box">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług na terytorium kraju,zwolnione od podatku:" for="pole20" />
                            <h:inputText id="pole20" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole20}" title="Pole20"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług poza terytorium kraju:" for="pole21" />
                            <h:inputText id="pole21" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole21}" title="Pole21"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym świadczenie usług, o których mowa w art. 100 ust.1 pkt 4 ustawy:" for="pole22" />
                            <h:inputText id="pole22" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole22}" title="Pole22"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką 0%:" for="pole23" />
                            <h:inputText id="pole23" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole23}" title="Pole23"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym dostawa towarów, o której mowa w art.129 ustawy:" for="pole24" />
                            <h:inputText id="pole24" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole24}" title="Pole24"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box">
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 3% albo 5%" for="pole25" />
                            <h:inputText id="pole25" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole25}" title="Pole25"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole26" />
                            <h:inputText id="pole26" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole26}" title="Pole26"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 7% albo 8%:" for="pole27" />
                            <h:inputText id="pole27" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole27}" title="Pole27"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole28" />
                            <h:inputText id="pole28" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole28}" title="Pole28"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, na terytorium kraju, opodatkowane stawką odpowiednio 22% albo 23%:" for="pole29" />
                            <h:inputText id="pole29" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole29}" title="Pole29"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole30" />
                            <h:inputText id="pole30" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole30}" title="Pole30"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Wewnątrzwspólnotowa dostawa towarów:" for="pole31"/>
                            <h:inputText id="pole31" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole31}" title="Pole31"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Eksport towarów:" for="pole32" />
                            <h:inputText id="pole32" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole32}" title="Pole32"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box">
                            <h:outputLabel value="Wewnątrzwspólnotowe nabycie towarów:" for="pole33" />
                            <h:inputText id="pole33" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole33}" title="Pole33"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole34" />
                            <h:inputText id="pole34" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole34}" title="Pole34"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Import towarów, podlegający rozliczeniu zgodnie z art.33a:" for="pole35" />
                            <h:inputText id="pole35" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole35}" title="Pole35"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole36" />
                            <h:inputText id="pole36" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole36}" title="Pole36"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Import usług 38:" for="pole37" />
                            <h:inputText id="pole37" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole37}" title="Pole37"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole38" />
                            <h:inputText id="pole38" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole38}" title="Pole38"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w tym nabycie od podatników podatku od wartości dodanej usług, do których stosuje się art.28b ustawy:" for="pole39" />
                            <h:inputText id="pole39" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole39}" title="Pole39"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole40" />
                            <h:inputText id="pole40" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole40}" title="Pole40"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Dostawa towarów oraz świadczenie usług, dla których 42. podatnikiem jest nabywca (poz.42 wypełnia tylko nabywca):" for="pole41" />
                            <h:inputText id="pole41" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole41}" title="Pole41"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="vat:" for="pole42" />
                            <h:inputText id="pole42" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole42}" title="Pole42"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota podatku należnego od towarów i usług objętych spisem z natury, o którym mowa w art.14 ust.5 43. ustawy:" for="pole43" />
                            <h:inputText id="pole43" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole43}" title="Pole43"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podatku należnego od wewnątrzwspólnotowego nabycia środków transportu, wykazanego w poz.34, podlegająca wpłacie w terminie, o którym mowa w art.103 ust.3, w związku z ust.4 ustawy:" for="pole44" />
                            <h:inputText id="pole44" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole44}" title="Pole44"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="4" frame="box" style="text-align: right;">
                            <h:outputLabel value="Razem netto:" for="pole45" />
                            <h:inputText id="pole45" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole45}" title="Pole45"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Razem vat:" for="pole46" />
                            <h:inputText id="pole46" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole46}" title="Pole46"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:column>
                <p:column>
                    <h:panelGrid columns="1" frame="box"  width="100%" >
                        <h:panelGrid title="strona podatku naliczonego"  columns="1">
                            <h:panelGrid columns="2">
                                <h:outputLabel value="Kwota nadwyżki z poprzedniej deklaracji:" for="pole47" />
                                <h:inputText id="pole47" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole47}" title="Pole47"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                                <h:outputLabel value="Kwota podatnku naliczonego wynikającego ze spisu z natury:" for="pole48" />
                                <h:inputText id="pole48" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole48}" title="Pole48"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                            <h:panelGrid columns="4" frame="box">
                                <h:outputLabel value="Nabycie towarów i usług zaliczanych u podatnika do środków trwałych:" for="pole49" />
                                <h:inputText id="pole49" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole49}" title="Pole49"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="vat:" for="pole50" />
                                <h:inputText id="pole50" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole50}" title="Pole50"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Nabycie towarów i usług pozostałych:" for="pole51" />
                                <h:inputText id="pole51" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole51}" title="Pole51"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="vat:" for="pole52" />
                                <h:inputText id="pole52" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole52}" title="Pole52"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                            <h:panelGrid columns="2" >
                                <h:outputLabel value="Korekta podatku naliczonego od nabycia środków trwałych:" for="pole53" />
                                <h:inputText id="pole53" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole53}" title="Pole53"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Korekta podatku naliczonego od pozostałych nabyć:" for="pole54" />
                                <h:inputText id="pole54" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole54}" title="Pole54"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                                <h:outputLabel value="Razem kwota podatku naliczonego do odliczenia:" for="pole55" />
                                <h:inputText id="pole55" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole55}" title="Pole55"  style="font-weight: 700; text-align: right; width: 80px;">
                                    </h:inputText>
                            </h:panelGrid>
                        </h:panelGrid>
                    </h:panelGrid>  
                    <h:panelGrid columns="1" frame="box"  width="100%" > 
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota wydatkowana na zakup kas rejestrujących, do odliczenia w danym okresie rozliczeniowym - jest VAT do zapłaty:" for="pole56" />
                            <h:inputText id="pole56" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole56}" title="Pole56"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podatku objęta zaniechaniem poboru:" for="pole57" />
                            <h:inputText id="pole57" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole57}" title="Pole57"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota podlegająca wpłacie do urzędu skarbowego:" for="pole58" />
                            <h:inputText id="pole58" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole58}" title="Pole58"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            </h:panelGrid>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Kwota wydatkowana na zakup kas rejestrujących, przysługująca do zwrotu w danym okresie rozliczeniowym - jest VAT do zwrotu:" for="pole59" />
                             
                            <h:inputText id="pole59" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole59}" title="Pole59"  style="font-weight: 700; text-align: right; width: 80px;" >
                                </h:inputText>
                            <h:outputLabel value="Nadwyżka podatku naliczonego nad należnym:" for="pole60" />
                            <h:inputText id="pole60" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole60}" title="Pole60"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="Kwota do zwrotu na rachunek bankowy wskazany przez podatnika:" for="pole61" />
                            <h:inputText id="pole61" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole61}" title="Pole61"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2" frame="box">
                            <h:outputLabel value="w terminie 25 dni:" for="pole62" />
                            <h:inputText id="pole62" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole62}" title="Pole62"  style="font-weight: 700; text-align: right; width: 80px;" onblur="dodajinfopole62();">
                                </h:inputText>
                            <h:outputLabel value="w terminie 60 dni:" for="pole63" />
                            <h:inputText id="pole63" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole63}" title="Pole63"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                            <h:outputLabel value="w terminie 180 dni:" for="pole64" />
                            <h:inputText id="pole64" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole64}" title="Pole64"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                        <h:panelGrid columns="2" style="text-align: right;">
                            <h:outputLabel value="Kwota do przeniesienia na następny okres rozliczeniowy:" for="pole65" />
                            <h:inputText id="pole65" value="#{vatKorektaView.deklaracjaVATKwotyKorekty.pozycjeszczegolowe.pole65}" title="Pole65"  style="font-weight: 700; text-align: right; width: 80px;">
                                </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:column>
               
            </h:panelGrid>
        </h:form>
        </p:tab>
        <p:tab title="Po korekcie">
            
        </p:tab>
    </p:tabView>
</ui:composition>   


