<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:bcf="http://brzaskun.com/facelets">
    <bcf:ajaxs value="Trwa resetowanie hasła użytkownika"/>
    <f:view locale="#{localeChanger.locale}">
        <h:head>
            <meta http-equiv="Accept-Encoding" content="gzip"/>
            <h:outputStylesheet id="template" name="css/style.css"/>
            <title>Biuro Rachunkowe Taxman</title>
        </h:head>

        <h:body style="background-color: #FFFFFF">
            
            <h:form id="formlog1">
                <p:ajaxStatus>
                    <f:facet name="start"><p:graphicImage url="/resources/images/ajax-loader.gif"/></f:facet>
                    <f:facet name="success"><h:outputText value="" /></f:facet>
                    <f:facet name="error">Wystąpił nieoczekiewany błąd. Dane nie zostały utracone. Przejdź do strony logowania i zaloguj się ponownie </f:facet>
                </p:ajaxStatus>
                <p:panel style="text-align: center; margin-left: auto; margin-right: auto; margin-top:  7%;  width: 600px; border-style: none" >
                    <div style="height: 100px;">
                        <p:messages id="logowanie"  autoUpdate="true"/>
                    </div>
                    <p:panelGrid columns="3" style="text-align: center; margin-left: auto; margin-right: auto; width: 600px; border-style: hidden !important;">
                        <p:column>
                            <h:link outcome="pomoclogowanie" value="pomoc" />
                        </p:column>
                        <p:column>
                            <h:link outcome="failure" value="powrót do logowania"/>
                        </p:column>
                        <p:column>
                            <h:link outcome="rejestruj" value="zarejestruj się"/>
                        </p:column>
                    </p:panelGrid>
                </p:panel>
                <p:panel style="text-align: center; margin-left: auto; margin-right: auto;  width: 450px">
                        <h:outputLabel value="Prosze wpisać w pole poniżej swój login uzytkownika. Nowe hasło zostanie wysłane na adres mailowy podany przy rejestracji"/>
                    <p:focus id="focus" context="logowaniepanel"/>
                    <p:panelGrid id="logowaniepanel" columns="2" style="text-align: center; margin-left: auto; margin-right: auto; height: 75px;">
                        <h:outputText value="twój login"/>
                        <h:inputText value="#{resetHasla.login}" accesskey="s" required="true" requiredMessage="Wpisz login!" autocomplete="true"/>
                    </p:panelGrid>
                    <br/>
                    <p:panelGrid columns="1" style="text-align: center; margin-left: auto; margin-right: auto;">
                        <p:commandButton value="Resetuj" action="#{resetHasla.reset()}" update=":formlog1:logowanie" ajax="false" style="width: 120px;"/>
                    </p:panelGrid>
                </p:panel>
            </h:form>
        </h:body>
    </f:view>
</html>