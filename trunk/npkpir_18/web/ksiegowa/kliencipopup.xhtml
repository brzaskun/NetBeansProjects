<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:composition template="/template.xhtml">

        <ui:define name="title">
            <h:outputText value="Podatkowa księga przychodów i rozchodów"></h:outputText>
        </ui:define>
        <ui:define name="body">

            <h:body> 
                <f:view contentType="text/html">
                    <h:form>
                        <p:panel menuTitle="Wprowadzanie danych nowych klientów" header="Wprowadzanie danych nowych klientów (* - dane fakultatywne)"  >
                            <p:focus id="focus" context="polawprowadzania" />
                            <p:growl id="mess_add" />

                            <p:panelGrid id="polawprowadzania" columns="5" >
                                <h:outputLabel value="nazwa pełna" style="font-weight: 700"/>
                                <h:outputLabel value="nazwa skrocona" style="font-weight: 700"/>
                                <h:outputLabel value="nip" style="font-weight: 700"/>
                                <h:outputLabel value="kod pocztowy" style="font-weight: 700"/>
                                <h:outputLabel value="miejscowość" style="font-weight: 700"/>


                                <p:inputText id="nazwaPole" value="#{KlView.selected.npelna}"  accesskey="s" title="pełna nazwa kontrahenta" maxlength="25" style="width: 200px" required="true" requiredMessage="Pole daty nie może byc puste" onfocus="selcolor();">
                                    <p:watermark for="nazwaPole" value="pełna nazwa kontrahenta" /> 
                                </p:inputText>
                                <p:inputText id="symbolPole" value="#{KlView.selected.nskrocona}" maxlength="12" style="width: 200px" required="true" requiredMessage="Pole nazwa skrocona nie może byc puste">
                                    <p:watermark for="symbolPole" value="hasłowo, np:FORTEX" /> 
                                </p:inputText>
                                <p:inputText id="nipPole" value="#{KlView.selected.nip}" maxlength="10" style="width: 200px" required="true" requiredMessage="Pole nip nie może byc puste">
                                    <f:validateLength minimum="10"/>
                                    <p:watermark for="nipPole" value="bez -" /> 
                                </p:inputText>
                                <p:inputMask id="kodPole" value="#{KlView.selected.kodpocztowy}" maxlength="6" style="width: 200px" required="true" requiredMessage="Pole kod pocztowy nie może byc puste" mask="99-999"/>
                                <p:autoComplete id="miejscowoscPole" value="#{KlView.selected.miejscowosc}" completeMethod="#{miasta.complete}"
                                                var="p" itemLabel="#{p}" itemValue="#{p}" 
                                                minQueryLength="1" maxResults="10" maxlength="20"  forceSelection="false" 
                                                effect="clip" autocomplete="true" queryDelay="100" 
                                                required="true" requiredMessage="Pole miejscowosc nie może byc puste" style="width: 200px">
                                    <p:ajax event="change" partialSubmit="true" global="false"/>
                                </p:autoComplete>

                                <h:outputLabel value="ulica" style="font-weight: 700"/>
                                <h:outputLabel value="dom" style="font-weight: 700"/>
                                <h:outputLabel value="lokal" style="font-weight: 700"/>
                                <h:outputLabel value="ewidencja vat" style="font-weight: 700"/>
                                <h:outputLabel value="kolumna w pkpir" style="font-weight: 700"/>

                                <p:inputText id="ulicaPole" value="#{KlView.selected.ulica}"   style="width: 200px" required="true" requiredMessage="Pole ulica nie może byc puste"/>
                                <p:inputText id="domPole" value="#{KlView.selected.dom}" style="width: 200px" required="true" requiredMessage="Pole dom nie może byc puste"/>
                                <p:inputText id="lokalPole" value="#{KlView.selected.lokal}"  style="width: 200px"/>
                                <p:selectOneMenu id="evatPole" value="#{KlView.selected.evat}"   style="width: 200px" effect="clip" effectSpeed="100" height="125">
                                    <f:selectItems value="#{EVatView.listadostepnychewidencji}"/>
                                </p:selectOneMenu>

                                <p:selectOneMenu id="pkpirPole" value="#{KlView.selected.pkpirKolumna}"   style="width: 200px" effect="clip" effectSpeed="100" height="190">
                                    <f:selectItems value="#{kolmn.kolumnList}" />
                                </p:selectOneMenu>


                                <h:outputLabel value="kraj*" style="font-weight: 700"/>
                                <h:outputLabel value="konto bankowe*" style="font-weight: 700"/>
                                <h:outputLabel value="email*" style="font-weight: 700"/>
                                <h:outputLabel value="znacznik1*" style="font-weight: 700"/>
                                <h:outputLabel value="pesel*" style="font-weight: 700"/>
                                <p:autoComplete id="krajPole" value="#{KlView.selected.krajnazwa}" completeMethod="#{panstwa.complete}"
                                                var="p" itemLabel="#{p}" itemValue="#{p}" 
                                                minQueryLength="1" maxResults="10" maxlength="25"  forceSelection="true" 
                                                effect="clip" autocomplete="true" queryDelay="100" 
                                                style="width: 200px" >
                                    <p:ajax event="change" partialSubmit="true" global="false"/>
                                </p:autoComplete>
                                <p:inputText id="bankPole" value="#{KlView.selected.kontobank}" maxlength="26" style="width: 200px" />
                                <p:inputText id="emailPole" value="#{KlView.selected.email}" style="width: 200px" >
                                    <p:ajax event="focus" listener="#{KlView.dodajpustegomaila}"/>
                                </p:inputText>

                                <p:inputText id="znacznik1Pole" value="#{KlView.selected.znacznik1}" style="width: 200px" />
                                <p:inputText id="peselPole" value="#{KlView.selected.pesel}" maxlength="11" style="width: 200px"/>
                            </p:panelGrid>
                            <p:panelGrid id="polawprowadzania3" columns="1" >
                                <p:commandButton value="dodaj" action="#{KlView.dodajKlienta()}" accesskey="w" onsuccess="window.close();"/>
                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                </f:view>
            </h:body>
        </ui:define>
    </ui:composition>
</html>




