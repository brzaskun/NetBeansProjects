<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace">
    <p:growl id="mess_add" />
  <p:outputPanel id="wrapper2">
         
         <p:dataTable  var="wpis" value="#{AmodokView.obiektDOKjsfSel}" id="dokumsrodkiLista" editable="true" 
                      paginator="true" paginatorAlwaysVisible="true" rows="6"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="6,12,18,24,32,50" 
                      rowKey="#{wpis.id}" selection="#{AmodokView.selected}" selectionMode="single" resizableColumns="true"
                      rowStyleClass="#{wpis.zaksiegowane eq true ? 'old' : null}" emptyMessage="Nie wygenerowano dokumentów amortyzacyjnych"> 
                        
            <f:facet name="header">  
                <h:outputText value="Wykaz dokumentów amortyzacji" />  
            </f:facet>
            
             <p:column id="Column0" headerText="nr kolejny" filterBy="#{wpis.id}" filterMatchMode="contains" sortBy="#{wpis.id}"  width="60">  
            
                <h:outputText value="#{wpis.id}" />
            </p:column>
                
             <p:column id="Column1" headerText="pod nazwa" filterBy="#{wpis.podatnik}" filterMatchMode="contains" sortBy="#{wpis.podatnik}" >  
            
                 <h:outputText value="#{wpis.podatnik}">
                    <f:convertDateTime dateStyle="medium"  />
                </h:outputText>
            </p:column>
             <p:column id="Column2" headerText="rok" filterBy="#{wpis.rok}" filterMatchMode="contains" sortBy="#{wpis.rok}" >  
                <f:facet name="header">  
                    <h:outputText value="rok" />  
                </f:facet> 
                <h:outputText value="#{wpis.rok}"/>

            </p:column>
             <p:column id="Column3" headerText="mc" filterBy="#{wpis.mc}" filterMatchMode="contains" sortBy="#{wpis.mc}">  
          
                <h:outputText value="#{wpis.mc}"  />
            </p:column>
             <p:column id="Column4" headerText="zaksięgowane odpisy" filterBy="#{wpis.umorzenia}" filterMatchMode="contains" sortBy="#{wpis.umorzenia}">  
           
                 <p:dataTable var="subwpisX" value="#{wpis.umorzenia}">
                    <p:column id="SubColumn1X" headerText="id" >  
                        <h:outputText value="#{subwpisX.nrUmorzenia}" />
                    </p:column>
                    <p:column id="SubColumn1aX" headerText="nazwa" >  
                        <h:outputText value="#{subwpisX.nazwaSrodka}" />
                    </p:column>
                      <p:column id="SubColumn2X" headerText="rok" >  
                        <h:outputText value="#{subwpisX.rokUmorzenia}" />
                    </p:column>
                    <p:column id="SubColumn3X" headerText="mc" >  
                        <h:outputText value="#{subwpisX.mcUmorzenia}" />
                    </p:column>
                    <p:column id="SubColumn4X" headerText="kwota" >  
                        <h:outputText value="#{subwpisX.kwota}" />
                    </p:column>
                </p:dataTable>
            </p:column>
             <p:column id="Column5" headerText="zaksięgowane" filterBy="#{wpis.zaksiegowane}" filterMatchMode="contains" sortBy="#{wpis.zaksiegowane}">  
                 <h:outputText value="#{wpis.zaksiegowane}"  />
            </p:column>
              <f:facet name="footer">
                   <p:commandButton id="generujdokumenty"  action="#{STRTableView.generujamodokumenty()}" value="Generuj dokumenty amort" update="@form" global="false" ajax="false"/>  
            </f:facet>
        </p:dataTable>
          
    </p:outputPanel>
</ui:composition>   

