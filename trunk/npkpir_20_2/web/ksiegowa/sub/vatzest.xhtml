<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
 
    <f:event type="preRenderView" listener="#{pdfVAT.drukujewidencje()}"/>
    <f:event type="preRenderView" listener="#{pdfVATsuma.drukuj()}"/>
    
     
    <p:tabView it="akordeon" style="width: 1300px;" >
         <c:forEach items="#{vatView.listaewidencji.values()}" var="item">
             <p:tab title="#{item[0].nazwaewidencji}">
                 <p:commandButton value="Pdf" onsuccess="wydrukewidencje('#{WpisView.podatnikWpisu}','#{item[0].nazwaewidencji}')"/>
                 <p:separator/>
                 <p:dataTable id="mytable" value="#{item}" var="itemik" scrollable="true" scrollHeight="700" scrollRows="4" 
                              rowKey="#{itemik.id}" selection="#{vatView.goscwybral}" style="width: 1200px;"
                              >
                     <p:column selectionMode="multiple" width="30">
                     </p:column>
                     <p:column headerText="id" width="50">
                         <h:outputText value="#{itemik.id}"/>
                     </p:column>
                     <p:column headerText="data wyst." width="80">
                         <h:outputText value="#{itemik.dataWyst}"/>
                     </p:column>
                     <p:column headerText="data sprzed." width="80">
                         <h:outputText value="#{itemik.dataSprz}"/>
                     </p:column>
                     <p:column headerText="nr własny" width="150">
                         <h:outputText value="#{itemik.nrWlDk}"/>
                     </p:column>
                     <p:column headerText="nazwa kontrhenta">
                         <h:outputText value="#{itemik.kontr}"/>
                     </p:column>
                     <p:column headerText="opis trans.">
                         <h:outputText value="#{itemik.opis}"/>
                     </p:column>
                     <p:column headerText="netto" width="100">
                         <h:outputText value="#{itemik.netto}" style="float: right;">
                          <f:convertNumber minFractionDigits="2" locale="PL"/>
                         </h:outputText>
                     </p:column>
                     <p:column headerText="vat" width="100">
                         <h:outputText value="#{itemik.vat}" style="float: right;">
                          <f:convertNumber minFractionDigits="2" locale="PL"/>
                        </h:outputText>
                     </p:column>
                     <p:column headerText="rodzaj zak." width="60">
                         <h:outputText value="#{itemik.opizw}"/>
                     </p:column>
                 </p:dataTable>
             </p:tab>
         </c:forEach>
        <p:tab title="podsumowanie">
            <p:commandButton value="Pdf" onsuccess="wydruksumavat('#{WpisView.podatnikWpisu}');"/>
                 <p:separator/>
                 <p:dataTable value="#{vatView.sumydowyswietlenia}" var="itemik" scrollable="true" scrollHeight="4  00" scrollRows="4" 
                              style="width: 1300px;" selection="#{vatView.goscwybralsuma}" rowKey="#{itemik.ewidencja.nazwa}" >
                     <p:column selectionMode="multiple" width="30" >
                     </p:column>
                     <p:column headerText="nazwa ewidencji" width="200">
                         <h:outputText value="#{itemik.ewidencja.nazwa}"/>
                     </p:column>
                     <p:column headerText="wartość netto" width="150">
                         <h:outputText value="#{itemik.netto}" style="float: right;">
                          <f:convertNumber minFractionDigits="2" locale="PL"/>
                         </h:outputText>
                     </p:column>
                     <p:column headerText="wartosć vat" width="150">
                         <h:outputText value="#{itemik.vat}"  style="float: right;">
                          <f:convertNumber minFractionDigits="2" locale="PL"/>
                         </h:outputText>
                     </p:column>
                     <p:column headerText="estawka" width="200">
                         <h:outputText value="#{itemik.estawka}"/>
                     </p:column>
                 </p:dataTable>
                 
        </p:tab>
    </p:tabView>
  
</ui:composition>   


