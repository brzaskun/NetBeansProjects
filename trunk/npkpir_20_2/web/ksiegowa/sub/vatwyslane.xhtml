<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
                 <h:form id="formX">
                     <p:growl id="msg"/>
                     <p:panel header="Wykaz wysłanych deklaracji. Deklaracje pokolorowane są wysłane z sukcesem."/>
                     <p:dataTable id="dataList" value="#{deklaracjevatView.wyslane}" var="item" sortBy="#{item.miesiac}" scrollable="true" scrollHeight="500" scrollRows="10" rowStyleClass="#{item.status eq '200' ? 'old' : null}">
                         <p:column width="260">
                             <f:facet name="header">
                                 <h:outputText value="Identyfikator"/>
                             </f:facet>
                             <h:outputText value="#{item.identyfikator}"/>
                         </p:column>
                         <p:column width="45">
                             <f:facet name="header">
                                 <h:outputText value="Status"/>
                             </f:facet>
                             <h:outputText value="#{item.status}"/>
                         </p:column>
                          <p:column width="150">
                             <f:facet name="header">
                                 <h:outputText value="Opis"/>
                             </f:facet>
                             <h:outputText value="#{item.opis}"/>
                         </p:column>
                         <p:column width="60"> 
                             <f:facet name="header">
                                 <h:outputText value="Kod urzedu"/>
                             </f:facet>
                             <h:outputText value="#{item.kodurzedu}" style="width: 70px"/>
                         </p:column>
                         <p:column width="70">
                             <f:facet name="header">
                                 <h:outputText value="Rok - Miesiac"/>
                             </f:facet>
                             <h:outputText value="#{item.rok} - #{item.miesiac}"/>
                         </p:column>
                         <p:column width="40">
                             <f:facet name="header">
                                 <h:outputText value="Nrkol"/>
                             </f:facet>
                             <h:outputText value="#{item.nrkolejny}"/>
                         </p:column>
                         <p:column width="150">
                             <f:facet name="header">
                                 <h:outputText value="Podatnik"/>
                             </f:facet>
                             <h:outputText value="#{item.podatnik}"/>
                         </p:column>
                        
                         <p:column width="250">
                             <f:facet name="header">
                                 <h:outputText value="selected"/>
                             </f:facet>
                             <h:outputText value="#{item.selected}"/>
                         </p:column>
                         <p:column width="250">
                             <f:facet name="header">
                                 <h:outputText value="upo"/>
                             </f:facet>
                             <h:outputText value="#{item.upo.length() eq 0 ? '' : item.upo.substring(0,400)}" style="height: 200px;"/>
                         </p:column>
                         <p:column width="100">
                             <f:facet name="header">
                                 <h:outputText value="pobierzupo"/>
                             </f:facet>
                             <p:commandButton value="UPO" actionListener="#{beanek.pobierzwyslane(item.identyfikator)}" update=":formX, :formX:msg" style="margin-left: 20px;"/>
                         </p:column>
                         <p:column width="100">
                             <f:facet name="header">
                                 <h:outputText value="testupo"/>
                             </f:facet>
                             <p:commandButton value="TUPO" actionListener="#{beanek.pobierzwyslanetest(item.identyfikator)}" update=":formX, :formX:msg" style="margin-left: 20px;"/>
                         </p:column>
                         <p:column width="100">
                             <f:facet name="header">
                                 <h:outputText value="drukuj"/>
                             </f:facet>
                             <p:commandButton value="Pdf" actionListener="#{pdfVAT7.drukuj(item)}" update=":formX, :formX:msg" style="margin-left: 20px;" onclick="wydrukvat7('#{item.podatnik}');"/>
                         </p:column>
                     </p:dataTable>
                 </h:form>
 </ui:composition>   


