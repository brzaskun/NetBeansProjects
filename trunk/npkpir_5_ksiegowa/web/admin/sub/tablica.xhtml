<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:outputPanel id="wrapper">
        <p:dataTable  var="wpis" value="#{UzDAO.obiektUZjsf}" id="uzytkownicyLista" editable="true"
                      paginator="true" paginatorAlwaysVisible="true" rows="8"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="8,12,16,20,50" resizableColumns="true"
                      rowKey="#{wpis.logi}" selection="#{UzDAO.selUzytkownik}" selectionMode="single"> 
            <f:facet name="header">  
                <h:outputText value="Wykaz użytkowników" />  
            </f:facet>

            <p:column id="idColumn" headerText="id" filterBy="#{wpis.logi}" filterMatchMode="contains" sortBy="#{wpis.logi}">  
                <f:facet name="header">  
                    <h:outputText value="login" />  
                </f:facet> 
                <h:outputText value="#{wpis.logi}" />
            </p:column>
            <p:column id="dataColumn" headerText="imie" filterBy="#{wpis.imie}" filterMatchMode="contains" sortBy="#{wpis.imie}" >  
                <f:facet name="header">  
                    <h:outputText value="imie" />  
                </f:facet> 
                <h:outputText value="#{wpis.imie}"/>
            </p:column>
            <p:column id="kltColumn" headerText="nazwisko" filterBy="#{wpis.nazw}" filterMatchMode="contains" sortBy="#{wpis.nazw}">  
                <f:facet name="header">  
                    <h:outputText value="nazwisko" />  
                </f:facet> 
                <h:outputText value="#{wpis.nazw}" />
            </p:column>
            <p:column id="kwaColumn" headerText="haslo" width="50">  
                <f:facet name="header">  
                    <h:outputText value="haslo" />  
                </f:facet> 
                <h:outputText value="#{wpis.haslo}" />
            </p:column>
            <p:column id="nrdokColumn" headerText="uprawnienia" filterBy="#{wpis.upr}" filterMatchMode="contains" sortBy="#{wpis.upr}">  
                <f:facet name="header">  
                    <h:outputText value="uprawnienia" />  
                </f:facet> 
                <h:outputText value="#{wpis.upr}" />
            </p:column>
            <p:column id="statusColumn" headerText="status" filterBy="#{wpis.log}" filterMatchMode="contains">  
                <f:facet name="header">  
                    <h:outputText value="log" />  
                </f:facet> 
                <h:outputText value="#{wpis.log}" />
            </p:column>
             <p:column id="editColumn" headerText="usuń">
                 <h:commandButton  action="#{UzDAO.dodajEdytuj()}" actionListener="#{UzytkownikView.setEdytujUz(true)}"  value="Edyt" >
                    <f:setPropertyActionListener target="#{UzDAO.selUzytkownik}" value="#{wpis}" />
                </h:commandButton>
            </p:column>
            <p:column id="deleteColumn" headerText="usuń">
                <h:commandButton  action="#{UzDAO.destroy()}" value="Usuń" >
                    <f:setPropertyActionListener target="#{UzDAO.selUzytkownik}" value="#{wpis}"/>
                </h:commandButton>
            </p:column>
        </p:dataTable>
          
    </p:outputPanel>
</ui:composition>   

