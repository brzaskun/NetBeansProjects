<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <f:view  contentType="text/html;charset=UTF-8" encoding="UTF-8">
        <h:head>
            <meta http-equiv="Accept-Encoding" content="gzip"/>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <meta http-equiv="Pragma" content="no-cache"/>
            <meta http-equiv="Expires" content="0" />
            <meta http-equiv="Cache-Control" content="no-cache,no-store,must-revalidate"/>
            <link rel="icon" type="image/png" sizes="32x32" href="#{resource['css/pics/ODOLogoVector.png']}"/>
            <h:outputStylesheet name="css/main_admin.css" />
            <h:outputStylesheet name="css/button.css" />
            <h:outputStylesheet name="css/style.css" />
            <h:outputStylesheet name="css/details.css" />
            <h:outputStylesheet name="css/qlcore.css" />
            <title>Testy Dane Wrażliwe</title>
            <style>
                .ui-autocomplete input {
                    width: 400px;
                }
            </style>
        </h:head>
        <h:body>
            <p:growl life="7200"><p:autoUpdate/></p:growl>
            <p:outputPanel>
                <h:form id="formmenu">
                    <p:menubar autoDisplay="true">
                        <p:menuitem icon="pi pi-users" value="użytkownicy" style="width: 150px" action="Osoby"/>
                        <p:menuitem icon="pi pi-bars" value="firmy" style="width: 150px" action="Firmy"/>
                        <p:menuitem icon="pi pi-info-circle" value="szkolenia" style="width: 150px" action="Szkolenia"/>
                        <p:menuitem icon="pi pi-check-square" value="testy" style="width: 150px" action="Testy"/>
                        <p:menuitem icon="pi pi-cloud-download" value="pobierz" style="width: 150px" action="Upowaznienia"/>
                        <p:menuitem icon="pi pi-chart-line" value="statystyka" style="width: 150px" action="Statystyka"/>
                    </p:menubar>
                </h:form>
            </p:outputPanel>
            <p:tabView activeIndex="1" id="akordeon">
                <p:tab title="dodawanie">
                    <p:panel header="dodawanie nowego uczestnika"/>
                    <p:outputPanel style="margin: 20px;">
                        <h:form id="formdodawanie">
                            <p:messages ><p:autoUpdate/></p:messages>
                            <p:panelGrid columns="2" style="padding: 10px;">
                                <h:outputText value="adres mail:"/>
                                <p:inputText value="#{osobyView.nowy.email}" required="true" />
                                <h:outputText value="imie nazwisko:"/>
                                <p:inputText value="#{osobyView.nowy.imienazwisko}" required="true"/>
                                <h:outputText value="płeć:"/>
                                <p:selectOneMenu value="#{osobyView.nowy.plec}" required="true">
                                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                    <f:selectItem itemLabel="mężczyzna" itemValue="m"/>
                                    <f:selectItem itemLabel="kobieta" itemValue="k"/>
                                </p:selectOneMenu>
                                <h:outputText value="firma:"/>
                                <p:selectOneMenu value="#{osobyView.nowy.firmaId}" converter="#{zakladpracyConverter}" required="true">
                                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                    <f:selectItems value="#{osobyView.zakladpracylista}" var="zaklad" itemLabel="#{zaklad.nazwazakladu}" itemValue="#{zaklad}"/>
                                </p:selectOneMenu>
                                <h:outputText value="szkolenie:"/>
                                <p:selectOneMenu value="#{osobyView.nowy.nazwaszkolenia}" required="true">
                                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                    <f:selectItems value="#{osobyView.szkolenialista}" var="szkolenie" itemLabel="#{szkolenie.nazwa}" itemValue="#{szkolenie.nazwa}"/>
                                </p:selectOneMenu>
                                <h:outputText value="uprawnienia:"/>
                                <p:selectOneMenu value="#{osobyView.nowy.uprawnienia}"  required="true">
                                    <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                    <f:selectItem itemLabel="użytkownik" itemValue="uzytkownik"/>
                                    <f:selectItem itemLabel="manager" itemValue="manager"/>
                                    <f:selectItem itemLabel="admin" itemValue="admin"/>
                                </p:selectOneMenu>
                            </p:panelGrid>
                            <p:commandButton value="dodaj" actionListener="#{osobyView.dodaj}" update="@form akordeon:formdodawanie_arch" styleClass="buttonnorm"/>
                        </h:form>
                    </p:outputPanel>
                    <p:outputPanel style="margin: 20px;">
                        <h:form id="formdodawanie_arch">
                            <p:panel header="dane nowododanego użytkownika" style="width: 400px;"/>
                            <p:panelGrid columns="2" style="padding: 10px;" >
                                <h:outputText value="adres mail:"/>
                                <h:outputText value="#{osobyView.nowy_arch.email}"/>
                                <h:outputText value="imie nazwisko:"/>
                                <h:outputText value="#{osobyView.nowy_arch.imienazwisko}"/>
                                <h:outputText value="płeć:"/>
                                <h:outputText value="#{osobyView.nowy_arch.plec}"/>
                                <h:outputText value="firma:"/>
                                <h:outputText value="#{osobyView.nowy_arch.firmaId.nazwazakladu}"/>
                                <h:outputText value="szkolenie:"/>
                                <h:outputText value="#{osobyView.nowy_arch.nazwaszkolenia}"/>
                                <h:outputText value="uprawnienia:"/>
                                <h:outputText value="#{osobyView.nowy_arch.uprawnienia}"/>
                            </p:panelGrid>
                        </h:form>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="uczestnicy">
                    <p:outputPanel style="margin: 20px;">
                        <h:form id="formosoby">
                            <h:outputText value="wybierz firmę"/>
                            <p:selectOneListbox value="#{osobyView.zakladpracy}" converter="#{zakladpracyConverter}" style="width: 400px;" filter="true" filterMatchMode="contains" >
                                <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                <f:selectItems value="#{osobyView.zakladpracylista}" var="pozycja" itemLabel="#{pozycja.nazwazakladu}" itemValue="#{pozycja}"/>
                                <p:ajax event="change" partialSubmit="true" listener="#{osobyView.pobierzosoby}" update="akordeon:formosoby:dataList"/>
                            </p:selectOneListbox>
<!--                            <p:autoComplete id="firmaimport" value="#{osobyView.zakladpracy}" converter="#{zakladpracyConverter}"
                                            widgetVar="firmaimport" completeMethod="#{osobyView.complete}" size="200" cache="true"
                                            var="firma" itemLabel="#{firma.nazwazakladu}" itemValue="#{firma}"  title="nazwa firmy"
                                            minQueryLength="3" maxResults="18"  converterMessage="Nieudana konwersja firmy" queryDelay="0"
                                            forceSelection="true" styleClass="wpisywaniekontrfk" moreText="jest więcej pasujących pozycji"
                                            >
                                <p:ajax event="query" global="false"/>
                                <p:ajax event="itemSelect" partialSubmit="true" global="false" listener="#{osobyView.pobierzosoby}" update="@form"/>
                                <f:facet name="itemtip">  
                                    <h:panelGrid  columns="2" cellpadding="2" width="400">  
                                        <f:facet name="header">  
                                            <h:outputText value="Dane firmy"/>
                                        </f:facet>  
                                        <h:outputText value="nazwa: " />  
                                        <h:outputText value="#{firma.nazwazakladu}" />  
                                        <h:outputText value="miejscowość: " />  
                                        <h:outputText value="#{firma.miejscowosc}" />  
                                        <h:outputText value="email: " />  
                                        <h:outputText value="#{firma.email}" />  
                                    </h:panelGrid>
                                </f:facet>
                            </p:autoComplete>-->
                            <p:commandButton value="XLS" style="margin-left: 100px;">
                                <p:dataExporter target="formosoby:dataList" type="xls" fileName="osobytabela" />
                            </p:commandButton>
                            <p:dataTable id="dataList" value="#{osobyView.listaosoby}" var="item" style="overflow-y: scroll;width: 1600px; margin-top: 15px;" size="small"
                                         rowIndexVar="index" rowKey="#{item.id}" editable="true"
                                         rowsPerPageTemplate="20,100,250,500" paginatorPosition="top" paginator="true" rows="20"
                                         emptyMessage="Nie wprowadzono ani jednego pracownika" selectionMode="multiple" selection="#{osobyView.listaosobyselected}">
                                <p:ajax event="rowEdit" listener="#{osobyView.onRowEdit}" update="akordeon:formosoby:dataList"/>
                                <p:ajax event="rowEditCancel" listener="#{osobyView.onRowCancel}" update="akordeon:formosoby:dataList"/>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="lp"/>
                                    </f:facet>
                                    <h:outputText value="#{index+1}"/>
                                </p:column>
                                <p:column width="20" style="text-align: center;" exportable="false">
                                    <p:rowToggler rendered="#{item.uczestnicyarchiwumList ne null and item.uczestnicyarchiwumList.size() gt 0}"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="id"/>
                                    </f:facet>
                                    <h:outputText value="#{item.id}"/>
                                </p:column>
                                <p:column width="250" filterBy="#{item.email}" filterMatchMode="contains" sortBy="#{item.email}" sortOrder="1">
                                    <f:facet name="header">
                                        <h:outputText value="Email"/>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{item.email}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{item.email}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column width="250" filterBy="#{item.imienazwisko}" filterMatchMode="contains">
                                    <f:facet name="header">
                                        <h:outputText value="Imie nazwisko"/>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{item.imienazwisko}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{item.imienazwisko}" style="width:100%"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Plec"/>
                                    </f:facet>
                                    <h:outputText value="#{item.plec}"/>
                                </p:column>
                                <p:column width="200" filterBy="#{item.nazwaszkolenia}" filterMatchMode="contains">
                                    <f:facet name="header">
                                        <h:outputText value="Nazwa szkolenia"/>
                                    </f:facet>
                                    <h:outputText value="#{item.nazwaszkolenia}"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Il. log."/>
                                    </f:facet>
                                    <h:outputText value="#{item.ilosclogowan}"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Wysl link"/>
                                    </f:facet>
                                    <h:outputText value="&#x2714;" rendered="#{item.wyslanymailupr gt 0}" style="color: green;"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Rozp."/>
                                    </f:facet>
                                    <h:outputText value="#{item.sessionstart}">
                                        <f:convertDateTime pattern="yyyy/MM/dd HH:mm:ss" />
                                    </h:outputText>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Zak."/>
                                    </f:facet>
                                    <h:outputText value="#{item.sessionend}">
                                        <f:convertDateTime pattern="yyyy/MM/dd HH:mm:ss" />
                                    </h:outputText>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Wynik"/>
                                    </f:facet>
                                    <h:outputText value="#{item.wyniktestu}"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Wysl. zaś."/>
                                    </f:facet>
                                    <h:outputText value="&#x2714;" rendered="#{item.wyslanycert  gt 0}" style="color: green;"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Wysl. up."/>
                                    </f:facet>
                                    <h:outputText value="&#x2714;" rendered="#{item.wyslaneup}" style="color: green;"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Stac."/>
                                    </f:facet>
                                    <h:outputText value="&#x2714;" rendered="#{item.stacjonarny}" style="color: green;"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Arch."/>
                                    </f:facet>
                                    <h:outputText value="&#x2714;" rendered="#{item.dataustania ne null and item.dataustania.length() eq 10}" style="color: green;"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Utworzony"/>
                                    </f:facet>
                                    <h:outputText value="#{item.utworzony}" rendered="#{item.utworzony ne null}">
                                        <f:convertDateTime pattern="yyyy/MM/dd HH:mm:ss" />
                                    </h:outputText>
                                </p:column>
                                <p:column style="width:2rem;text-align: center;" exportable="false">
                                    <p:rowEditor editTitle="Edytuj" cancelTitle="Rezygnuj" saveTitle="Zachowaj" />
                                </p:column>
                                <p:rowExpansion>
                                    <p:dataTable id="datalistpasek" value="#{item.uczestnicyarchiwumList}" var="itemik"
                                                 rowIndexVar="indexkartapasek" 
                                                 style="height: 150px; overflow-y: scroll;width: 97%;margin-left: 30px;" emptyMessage="Nie ma zarchiwizowanych pozycji"
                                                 >
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="id"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.id}"/>
                                        </p:column>
                                        <p:column width="200" filterBy="#{itemik.nazwaszkolenia}" filterMatchMode="contains">
                                            <f:facet name="header">
                                                <h:outputText value="Nazwa szkolenia"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.nazwaszkolenia}"/>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Il. log."/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.ilosclogowan}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="Rozp."/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.sessionstart}">
                                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                                            </h:outputText>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="Zak."/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.sessionend}">
                                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                                            </h:outputText>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Wynik"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.wyniktestu}"/>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Odpowiedzi"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.iloscodpowiedzi}"/>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Dobrych"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.iloscpoprawnych}"/>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Złych"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.iloscblednych}"/>
                                        </p:column>
                                        <p:column width="90" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Ident"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.indetyfikator}"/>
                                        </p:column>
                                        <p:column width="120" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Upoważ."/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.nrupowaznienia}"/>
                                        </p:column>
                                        <p:column width="30" style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="Wysł."/>
                                            </f:facet>
                                            <h:outputText value="&#x2714;" rendered="#{itemik.wyslaneup}" style="color: green;"/>
                                        </p:column>
                                        <p:column width="110">
                                            <f:facet name="header">
                                                <h:outputText value="Nadanie"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.sessionstart}">
                                                <f:convertDateTime pattern="yyyy/MM/dd" dateStyle="short"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column width="110">
                                            <f:facet name="header">
                                                <h:outputText value="Ustanie"/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.sessionend}">
                                                <f:convertDateTime pattern="yyyy/MM/dd"  dateStyle="short"/>
                                            </h:outputText>
                                        </p:column>
                                        <p:column width="115">
                                            <f:facet name="header">
                                                <h:outputText value="Archiw."/>
                                            </f:facet>
                                            <h:outputText value="#{itemik.data}">
                                                <f:convertDateTime pattern="yyyy/MM/dd HH:mm:ss"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:dataTable>
                                </p:rowExpansion>
                            </p:dataTable>
                        </h:form>
                    </p:outputPanel>
                </p:tab>
                <p:tab title="grupy">
                    <p:outputPanel style="margin: 20px;">
                        <h:form id="formgrupy">
                            <h:outputText value="wybierz firmę1"/>
                            <p:selectOneListbox value="#{upgrupyView.zakladpracy}" converter="#{zakladpracyConverter}" style="width: 400px;" filter="true" filterMatchMode="contains" >
                                <f:selectItem itemLabel="wybierz" noSelectionOption="true"/>
                                <f:selectItems value="#{upgrupyView.zakladpracylista}" var="pozycja" itemLabel="#{pozycja.nazwazakladu}" itemValue="#{pozycja}"/>
                                <p:ajax event="change" partialSubmit="true" listener="#{upgrupyView.generujosoby}" update="akordeon:formgrupy:dataList"/>
                            </p:selectOneListbox>
                            <p:commandButton value="XLS" style="margin-left: 100px;">
                                <p:dataExporter target="formgrupy:dataList" type="xls" fileName="osobytabela" />
                            </p:commandButton>
                            <p:dataTable id="dataList" value="#{upgrupyView.listaosoby}" var="item" style="overflow-y: scroll;width: 1600px; margin-top: 15px;" size="small"
                                         rowIndexVar="index" rowKey="#{item.id}" editable="true"
                                         rowsPerPageTemplate="20,100,250,500" paginatorPosition="top" paginator="true" rows="20"
                                         emptyMessage="Nie wprowadzono ani jednego pracownika" selectionMode="multiple" selection="#{upgrupyView.listaosobyselected}">
                                <p:ajax event="rowEdit" listener="#{osobyView.onRowEdit}" update="akordeon:formgrupy:dataList"/>
                                <p:ajax event="rowEditCancel" listener="#{osobyView.onRowCancel}" update="akordeon:formgrupy:dataList"/>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="lp"/>
                                    </f:facet>
                                    <h:outputText value="#{index+1}"/>
                                </p:column>
                                <p:column width="30" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="id"/>
                                    </f:facet>
                                    <h:outputText value="#{item.id}"/>
                                </p:column>
                                <p:column width="250" filterBy="#{item.email}" filterMatchMode="contains" sortBy="#{item.email}" sortOrder="1">
                                    <f:facet name="header">
                                        <h:outputText value="Email"/>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{item.email}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{item.email}"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column width="200" filterBy="#{item.imienazwisko}" filterMatchMode="contains">
                                    <f:facet name="header">
                                        <h:outputText value="Imie nazwisko"/>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{item.imienazwisko}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{item.imienazwisko}"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column width="120" filterBy="#{item.nrupowaznienia}" filterMatchMode="contains">
                                    <f:facet name="header">
                                        <h:outputText value="Upoważnienie"/>
                                    </f:facet>
                                    <p:cellEditor>
                                        <f:facet name="output">
                                            <h:outputText value="#{item.nrupowaznienia}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText value="#{item.nrupowaznienia}"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column width="90" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Nad."/>
                                    </f:facet>
                                    <h:outputText value="#{item.datanadania}">
                                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                                    </h:outputText>
                                </p:column>
                                <p:column width="90" style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Ust."/>
                                    </f:facet>
                                    <h:outputText value="#{item.dataustania}">
                                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                                    </h:outputText>
                                </p:column>
                                <p:column>
                                    <p:repeat value="#{item.uczestnikgrupy}" var="columna">
                                        <p:column>
                                            <h:outputText value="#{columna.nazwa}" style="color: #{columna.jest?'initial':'gray'}"/>
                                            <p:selectBooleanCheckbox value="#{columna.jest}">
                                                <p:ajax event="change" partialSubmit="true" update="@parent"/>
                                            </p:selectBooleanCheckbox>
                                        </p:column>
                                    </p:repeat>
                                </p:column>
                                <p:column style="width:2rem;text-align: center;" exportable="false">
                                    <p:rowEditor editTitle="Edytuj" cancelTitle="Rezygnuj" saveTitle="Zachowaj" />
                                </p:column>
                            </p:dataTable>
<!--                            <p:dataTable id="customers" var="customer" value="#{dtColumnsView.customers}" widgetVar="customersTable"
                            filteredValue="#{dtColumnsView.filteredCustomers}">

                            <p:columns value="#{dtColumnsView.columns}" var="column" headerText="#{column.header}" field="#{column.property}">
                                <f:facet name="filter">
                                    <p:datePicker selectionMode="range" onchange="PF('customersTable').filter()" rendered="#{column.type eq 'date'}"/>
                                    <p:selectOneMenu onchange="PF('customersTable').filter()" rendered="#{column.type eq 'enum'}">
                                        <f:selectItem itemValue="#{null}" itemLabel=""/>
                                        <f:selectItems value="#{column.klazz.enumConstants}" />
                                    </p:selectOneMenu>
                                </f:facet>
                            </p:columns>-->

                            <!--                        </p:dataTable>-->

                        </h:form>
                    </p:outputPanel>
                </p:tab>
            </p:tabView>
        </h:body>
    </f:view>
</html>