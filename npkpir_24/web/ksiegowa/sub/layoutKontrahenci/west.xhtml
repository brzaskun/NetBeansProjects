<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    <p:layoutUnit position="west" size="220" header="Bieżący podatnik" collapsible="true" resizable="true" style="box-shadow: 10px 10px 5px #888;">
        <h:form     id="westKsiegowa">

                <p:panelGrid columns="2">
                <h:outputText value="Podatnik:" style="text-shadow: #6374AB 1px -1px 1px"/>
                <h:outputText value="#{WpisView.podatnikWpisu}"/>
                <p:outputLabel for="rokWpisu" value="Rok"/>
                <p:selectOneMenu id="rokWpisu" value="#{WpisView.rokWpisu}" >
                    <f:selectItems value="#{Roki.rokiList}"/>
                    <p:ajax event="change" listener="#{obrotyView.aktualizujObroty}"  />
                    <p:ajax event="change" listener="#{obrotyView.init()}" />
                </p:selectOneMenu>
                <p:outputLabel for="miesiacOd" value="Mc od"/>
                <p:selectOneMenu id="miesiacOd" value="#{WpisView.miesiacOd}" >
                    <f:selectItems value="#{Mce.mceList}"/>
                    <p:ajax event="change" listener="#{obrotyView.aktualizujObroty}" />
                    <p:ajax event="change" listener="#{obrotyView.init()}"  />
                </p:selectOneMenu>
                <p:outputLabel for="miesiacDo" value="Mc do"/>
                <p:selectOneMenu id="miesiacDo" value="#{WpisView.miesiacDo}">
                    <f:selectItems value="#{Mce.mceList}"/>
                    <p:ajax event="change" listener="#{obrotyView.aktualizujObroty}" />
                    <p:ajax event="change" listener="#{obrotyView.init()}"  />
                </p:selectOneMenu>
<!--                <h:commandButton value="Ok" actionListener="{obrotyView.aktualizujObrotyX}" />-->
                </p:panelGrid>

           <p:panel id="linki" header="linki">
                
                    <p:menu >
                        <p:menuitem value="zmiana podatnika"  outcome="zmianapodatnika" icon="ui-icon-circle-arrow-e" />
                        <p:menuitem value="info podatnik"  outcome="info" icon="ui-icon-circle-arrow-e" />
                        <p:menuitem value="wpisywanie" rendered="#{!zamkniecieView.moznaksiegowac}"  outcome="ksiegowa" icon="ui-icon-circle-arrow-e" />
                    </p:menu>
                    <p:menu>
                        <p:menuitem value="wykaz dokumentów"  outcome="tablica" icon="ui-icon-circle-arrow-e"/>
                        <p:menuitem value="podatkowa ksiega"  outcome="ksiega" icon="ui-icon-circle-arrow-e" />
                        <p:menuitem value="faktury miesieczne"  outcome="fakturymiesieczne" icon="ui-icon-circle-arrow-e"/> 
                        <p:menuitem value="niezaplacone"  outcome="niezaplacone" icon="ui-icon-circle-arrow-e"/>  
                        <p:menuitem value="zaplacone"  outcome="zaplacone" icon="ui-icon-circle-arrow-e"/>  
                        <p:menuitem value="obroty w roku"  icon="ui-icon-circle-arrow-e" action="#{obrotyView.init()}" update="@form" />  
                        <p:menuitem value="kontrahenci fakt." outcome="klienci"  icon="ui-icon-circle-arrow-e"/>  
                        <p:menuitem value="zestaw. sumaryczne"  outcome="zestawienie" icon="ui-icon-circle-arrow-e"/>  
                    </p:menu>
                    <p:menu>
                        <p:menuitem value="środki trwałe"  outcome="srodki" icon="ui-icon-circle-arrow-e"/>  
                    </p:menu>
                    <p:menu>
                        <p:menuitem value="pity"  outcome="pitoblicz" icon="ui-icon-circle-arrow-e"/>
                        <p:menuitem value="ewidencje vat" icon="ui-icon-circle-arrow-e" action="#{vatView.przekierowanieEwidencji()}" update="westKsiegowa" rendered="#{WpisView.podatnikObiekt.vatokres.size() gt 0 ? true : false}">
                            <f:actionListener binding="#{vatView.initA()}"/>
                            <f:actionListener binding="#{pdfVAT.drukujewidencje()}"/>
                            <f:actionListener binding="#{pdfVATsuma.drukuj()}"/>
                        </p:menuitem>
                        <p:menuitem value="zamknięcie miesiąca"  outcome="zamkniecie" icon="ui-icon-circle-arrow-e"/>
                    </p:menu>
                    <p:menu>
                        <p:menuitem value="faktury - panel"  outcome="faktura" icon="ui-icon-circle-arrow-e"/>
                    </p:menu>
               <p:menu>
                    <p:menuitem value="napisz do admina"  outcome="pismoadmin" icon="ui-icon-circle-arrow-e"/>
                </p:menu>
                    <p:commandButton id="wyloguj" value="Wyloguj" action="#{Logowanie.logout()}"/>
            </p:panel>
            
        </h:form>
        </p:layoutUnit>
</ui:composition>   

