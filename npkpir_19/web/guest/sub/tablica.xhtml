<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace">
    
    
    
  
    <p:outputPanel id="wrapper">
        
        <p:dataTable  var="wpis" value="#{DokTabView.obiektDOKmrjsfSel}" id="dokumentyLista" editable="true" 
                      paginator="true" paginatorAlwaysVisible="true" rows="12"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="12,18,24,32,50" paginatorPosition="top"
                      rowKey="#{wpis.idDok}" selection="#{DokTabView.selDokument}" selectionMode="single"
                      rowStyleClass="#{wpis.rodzTrans eq 'sprzedaz' ? 'old' : null}" emptyMessage="W danym miesiącu nie było żadnych zapisów"
                      > 
          
            <p:ajax event="rowEdit" update=":form:messages" listener="#{DokTabView.edit}" />
                    
            
            <f:facet name="header">  
                <h:outputText value="Wykaz dokumentów" />  
            </f:facet>
            
            <p:column id="idColumn" headerText="lp" sortBy="#{wpis.nrWpkpir}"  width="30">  
                <f:facet name="header">  
                    <h:outputText value="lp" />  
                </f:facet> 
                <h:outputText value="#{wpis.nrWpkpir}" />
            </p:column>
                
            <p:column id="dataColumn" headerText="data wyst" filterBy="#{wpis.dataWyst}" filterMatchMode="contains" sortBy="#{wpis.dataWyst}" >  
                <f:facet name="header">  
                    <h:outputText value="data wyst" />  
                </f:facet> 
                        <h:outputText value="#{wpis.dataWyst}"><f:convertDateTime dateStyle="medium"  /></h:outputText>
            </p:column>
            <p:column id="kontrColumn" headerText="kontrahent" filterBy="#{wpis.kontr.npelna}" filterMatchMode="contains" sortBy="#{wpis.kontr.npelna}" style="width: 400px">  
                <f:facet name="header">  
                    <h:outputText value="kontrahent" />  
                </f:facet> 
                <h:outputText value="#{wpis.kontr.npelna} #{wpis.kontr.miejscowosc} nip #{wpis.kontr.nip}"  />
            </p:column>
<!--            <p:column id="rodzTrColumn" headerText="rodzaj trans" filterBy="{wpis.rodzTrans}" filterMatchMode="contains" sortBy="{wpis.rodzTrans}">  
                <f:facet name="header">  
                    <h:outputText value="rodzaj trans" />  
                </f:facet> 
                <h:outputText value="{wpis.rodzTrans}" />
            </p:column>-->
            <p:column id="nrWlDokColumn" headerText="nr wł" filterBy="#{wpis.nrWlDk}" filterMatchMode="contains" sortBy="#{wpis.nrWlDk}">  
                <f:facet name="header">  
                    <h:outputText value="nr wł" />  
                </f:facet> 
                        <h:outputText value="#{wpis.nrWlDk}"/>
            </p:column>
            <p:column id="opisColumn" headerText="opis" filterBy="#{wpis.opis}" filterMatchMode="contains" sortBy="#{wpis.nrWlDk}" >  
                <f:facet name="header">  
                    <h:outputText value="opis" />  
                </f:facet> 
                        <h:outputText value="#{wpis.opis}"/>
            </p:column>
            <p:column id="kwotaColumn" headerText="kwota" filterBy="#{wpis.kwota}" filterMatchMode="contains" sortBy="#{wpis.kwota}">  
                <f:facet name="header">  
                    <h:outputText value="kwota" />  
                </f:facet> 
                        <h:outputText value="#{wpis.kwota}" style="padding-left: 20%; font-weight: 700; float: right;">
                            <f:convertNumber minFractionDigits="2" locale="PL"/>
                        </h:outputText>
            </p:column>
            <p:column id="pkpirKolColumn" headerText="kolumna" filterBy="#{wpis.pkpirKol}" filterMatchMode="contains" sortBy="#{wpis.pkpirKol}">  
                <f:facet name="header">  
                    <h:outputText value="kolumna" />  
                </f:facet> 
                <h:outputText value="#{wpis.pkpirKol}" />
            </p:column>
         <p:column id="kwotaColumnX" headerText="kwota" filterBy="#{wpis.kwotaX}" filterMatchMode="contains" sortBy="#{wpis.kwotaX}">  
                <f:facet name="header">  
                    <h:outputText value="kwota" />  
                </f:facet> 
                        <h:outputText value="#{wpis.kwotaX}" style="padding-left: 20%; font-weight: 700; float: right;">
                            <f:convertNumber minFractionDigits="2" locale="PL"/>
                        </h:outputText>
            </p:column>
            <p:column id="pkpirKolColumnX" headerText="kolumna" filterBy="#{wpis.pkpirKolX}" filterMatchMode="contains" sortBy="#{wpis.pkpirKolX}">  
                <f:facet name="header">  
                    <h:outputText value="kolumna" />  
                </f:facet> 
                <h:outputText value="#{wpis.pkpirKolX}" />
            </p:column>
            <p:column id="uwagaColumn" headerText="uwagi" filterBy="#{wpis.uwagi}" filterMatchMode="contains" sortBy="#{wpis.uwagi}">  
                <f:facet name="header">  
                    <h:outputText value="uwagi" />  
                </f:facet> 
                <h:outputText value="#{wpis.uwagi}" />
            </p:column>
          
           
        </p:dataTable>
        <p:commandButton value="Zachowaj w pdf" ajax="false" actionListener="#{sesjaView.dodajwydruk()}">
            <p:dataExporter type="pdf" target="form:dokumentyLista" fileName="dokumenty"  encoding="UTF-8" preProcessor="#{pdf.preProcessPDF}" />
        </p:commandButton>
        
        
        
    </p:outputPanel>
    
</ui:composition>   

