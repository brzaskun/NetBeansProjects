
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    <p:panel>
        <p:panel menuTitle="Wprowadzanie nowego użytkownika" header="Wprowadzanie danych nowego użytkownika"  >
        
            <p:growl id="mess_add" tooltip="true" />
         <p:panelGrid columns="7" >
            <h:outputLabel value="data wyst"/>
            <h:outputLabel value="kontrahent"/>
            <h:outputLabel value="rodzaj trans"/>
            <h:outputLabel value="nr wł"/>
            <h:outputLabel value="opis"/>
            <h:outputLabel value="kwota"/>
            <h:outputLabel value="kolumna"/>
            <h:inputText id="dataPole" value="#{DokDAO.selDokument.dataWyst}" tabindex="1" accesskey="s" maxlength="10" 
                          immediate="true">
                <f:ajax event="keyup" execute="@this" render="dataPole"/>
                
            </h:inputText>

            
            <p:autoComplete id="acForce" value="#{DokDAO.selectedKontr}" completeMethod="#{KlDAO.complete}"
                            var="p" itemLabel="#{p.NIP}" itemValue="#{p}" converter="KlientConv"
                            minQueryLength="3" maxResults="5" maxlength="10" converterMessage="Nieudana konwersja Klient" tabindex="2" forceSelection="true"
                            >
                <f:validateLength minimum="10"/>
                <f:facet name="itemtip">  
                    <h:panelGrid  columns="2" cellpadding="5" width="400">  
                        <f:facet name="header">  
                            <h:outputText value="Dane kontrahenta"/>
                        </f:facet>  
                        <h:outputText value="Nazwa: " />  
                        <h:outputText id="npelna" value="#{p.npelna}" />  
                        <h:outputText value="Number " />  
                        <h:outputText id="nip" value="#{p.NIP}" />  
                    </h:panelGrid>  
                </f:facet>  
            </p:autoComplete>

            <h:selectOneMenu value="#{DokDAO.selDokument.rodzTrans}" tabindex="3">
                <f:selectItems value="#{Trans.transList}"/>
            </h:selectOneMenu>
            <h:inputText value="#{DokDAO.selDokument.nrWlDk}" required="true" requiredMessage="brak nr własnego dokumentu - uzupełnij" tabindex="4"/>
            <h:inputText value="#{DokDAO.selDokument.opis}" required="true" requiredMessage="brak opisu - uzupełnij" tabindex="5"/>
            <h:inputText value="#{DokDAO.selDokument.kwota}" required="true" requiredMessage="brak kwoty - uzupełnij" tabindex="6" onblur="dlg1.show()">
                <f:convertNumber pattern="###,##" />
            </h:inputText>
            <h:selectOneMenu value="#{DokDAO.selDokument.pkpirKol}" tabindex="7">
                <f:selectItems value="#{Kolumna.kolumnList}"/>
            </h:selectOneMenu>
    
            <h:outputLabel value="v m-c"/>
            <h:outputLabel value="v rok"/>
            <h:outputLabel value="uwagi"/>
            <h:outputLabel value=""/>
            <h:outputLabel value=""/>
            <h:outputLabel value=""/>
            <h:outputLabel value=""/>
       
            <h:selectOneMenu value="#{DokDAO.selDokument.vatM}" tabindex="10">
                <f:selectItems value="#{Mce.mceList}"/>
            </h:selectOneMenu>
            <h:selectOneMenu value="#{DokDAO.selDokument.vatR}" tabindex="11">
                <f:selectItems value="#{Roki.rokiList}"/>
            </h:selectOneMenu>
            <h:inputText value="#{DokDAO.selDokument.uwagi}" tabindex="12"/>
            <p:commandButton action="#{DokDAO.dodajNowyWpis()}" value="Dodaj" update=":form:dokumentyLista,mess_add,:dodWiad:ostatniUzytkownik" tabindex="13"/>   
        </p:panelGrid>
         
          
    </p:panel>
    <p:panel id="ostatniUzytkownik" menuTitle="Ostatnio wprowadzony użytkownik">
        <h:outputLabel value="Ostatnio wprowadzony:"/>
        <p:panelGrid columns="7">
            <h:outputLabel value="nr kolejny"/>
            <h:outputLabel value="data wyst"/>
            <h:outputLabel value="kontrahent"/>
            <h:outputLabel value="rodzaj trans"/>
            <h:outputLabel value="nr wł"/>
            <h:outputLabel value="opis"/>
            <h:outputLabel value="kwota"/>
            <h:outputText  value="#{DokDAO.selDokument.idDok}"/>
            <h:outputText  value="#{DokDAO.selDokument.dataWyst}">
                <f:convertDateTime parent="dd/mm/yyyy"/>
            </h:outputText>
            <h:outputText  value="#{DokDAO.selDokument.kontr}"/>
            <h:outputText  value="#{DokDAO.selDokument.rodzTrans}"/>
            <h:outputText  value="#{DokDAO.selDokument.nrWlDk}"/>
            <h:outputText  value="#{DokDAO.selDokument.opis}"/>
            <h:outputText  value="#{DokDAO.selDokument.kwota}"/>
            <h:outputLabel value="kolumna"/>
            <h:outputLabel value="k m-c"/>
            <h:outputLabel value="k rok"/>
            <h:outputLabel value="v m-c"/>
            <h:outputLabel value="v rok"/>
            <h:outputLabel value="uwagi"/>
            <h:outputText  value="#{DokDAO.selDokument.pkpirKol}"/>
            <h:outputText  value="#{DokDAO.selDokument.pkpirM}"/>
            <h:outputText  value="#{DokDAO.selDokument.pkpirR}"/>
            <h:outputText  value="#{DokDAO.selDokument.vatM}"/>
            <h:outputText  value="#{DokDAO.selDokument.vatR}"/>
            <h:outputText  value="#{DokDAO.selDokument.uwagi}"/>
         </p:panelGrid>
    </p:panel>
        </p:panel>
</ui:composition>   

