<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:outputPanel id="wrapper">
        <p:dataTable  var="wpis" value="#{DokDAO.obiektDOKjsf}" id="dokumentyLista" editable="true" 
                      paginator="true" paginatorAlwaysVisible="true" rows="4"
                      paginatorTemplate="{FirstPageLink} {PageLinks} {LastPageLink} {RowsPerPageDropdown}" 
                      rowsPerPageTemplate="4,12,16,20,50" resizableColumns="true"
                      rowKey="#{wpis.idDok}" selection="#{DokDAO.selDokument}" selectionMode="single"> 
            <f:facet name="header">  
                <h:outputText value="Wykaz dokumentów" />  
            </f:facet>

            <p:column id="idColumn" headerText="nr kolejny" filterBy="#{wpis.idDok}" filterMatchMode="contains" sortBy="#{wpis.idDok}"  width="60">  
                <f:facet name="header">  
                    <h:outputText value="nr kolejny" />  
                </f:facet> 
                <h:outputText value="#{wpis.idDok}" />
            </p:column>
            <p:column id="dataColumn" headerText="data wyst" filterBy="#{wpis.dataWyst}" filterMatchMode="contains" sortBy="#{wpis.dataWyst}" >  
                <f:facet name="header">  
                    <h:outputText value="data wyst" />  
                </f:facet> 
                <h:outputText value="#{wpis.dataWyst}">
                    <f:convertDateTime dateStyle="medium"  />
                </h:outputText>
            </p:column>
            <p:column id="kontrColumn" headerText="kontrahent" filterBy="#{wpis.kontr.npelna}" filterMatchMode="contains" sortBy="#{wpis.kontr.npelna}">  
                <f:facet name="header">  
                    <h:outputText value="kontrahent" />  
                </f:facet> 
                <h:outputText value="#{wpis.kontr.npelna}"  />
            </p:column>
            <p:column id="rodzTrColumn" headerText="rodzaj trans" filterBy="#{wpis.rodzTrans}" filterMatchMode="contains" sortBy="#{wpis.rodzTrans}">  
                <f:facet name="header">  
                    <h:outputText value="rodzaj trans" />  
                </f:facet> 
                <h:outputText value="#{wpis.rodzTrans}" />
            </p:column>
            <p:column id="nrWlDokColumn" headerText="nr wł" filterBy="#{wpis.nrWlDk}" filterMatchMode="contains" sortBy="#{wpis.nrWlDk}">  
                <f:facet name="header">  
                    <h:outputText value="nr wł" />  
                </f:facet> 
                <h:outputText value="#{wpis.nrWlDk}" />
            </p:column>
            <p:column id="opisColumn" headerText="opis" filterBy="#{wpis.opis}" filterMatchMode="contains" sortBy="#{wpis.nrWlDk}">  
                <f:facet name="header">  
                    <h:outputText value="opis" />  
                </f:facet> 
                <h:outputText value="#{wpis.opis}" />
            </p:column>
            <p:column id="kwotaColumn" headerText="kwota" filterBy="#{wpis.kwota}" filterMatchMode="contains" sortBy="#{wpis.kwota}">  
                <f:facet name="header">  
                    <h:outputText value="kwota" />  
                </f:facet> 
                <h:outputText value="#{wpis.kwota}">
                    <f:convertNumber type="currency" currencyCode="PLN"/>
                </h:outputText>
            </p:column>
            <p:column id="pkpirKolColumn" headerText="kolumna" filterBy="#{wpis.pkpirKol}" filterMatchMode="contains" sortBy="#{wpis.pkpirKol}">  
                <f:facet name="header">  
                    <h:outputText value="kolumna" />  
                </f:facet> 
                <h:outputText value="#{wpis.pkpirKol}" />
            </p:column>
            <p:column id="pkpirMcColumn" headerText="k m-c" filterBy="#{wpis.pkpirM}" filterMatchMode="contains" sortBy="#{wpis.pkpirM}"  width="60" filterMaxLength="2">  
                <f:facet name="header">  
                    <h:outputText value="k m-c" />  
                </f:facet> 
                <h:outputText value="#{wpis.pkpirM}" />
            </p:column>
            <p:column id="pkpirRokColumn" headerText="k rok" filterBy="#{wpis.pkpirR}" filterMatchMode="contains" sortBy="#{wpis.pkpirR}" width="60" filterMaxLength="4">  
                <f:facet name="header">  
                    <h:outputText value="k rok" />  
                </f:facet> 
                <h:outputText value="#{wpis.pkpirR}" />
            </p:column>
            <p:column id="vatMcColumn" headerText="v m-c" filterBy="#{wpis.vatM}" filterMatchMode="contains" sortBy="#{wpis.vatM}" width="60" filterMaxLength="2">  
                <f:facet name="header">  
                    <h:outputText value="v m-c" />  
                </f:facet> 
                <h:outputText value="#{wpis.vatM}" />
            </p:column>
            <p:column id="vatRokColumn" headerText="v rok" filterBy="#{wpis.vatR}" filterMatchMode="contains" sortBy="#{wpis.vatR}" width="60" filterMaxLength="4">  
                <f:facet name="header">  
                    <h:outputText value="v rok" />  
                </f:facet> 
                <h:outputText value="#{wpis.vatR}" />
            </p:column>
            <p:column id="uwagaColumn" headerText="uwagi" filterBy="#{wpis.uwagi}" filterMatchMode="contains" sortBy="#{wpis.uwagi}">  
                <f:facet name="header">  
                    <h:outputText value="uwagi" />  
                </f:facet> 
                <h:outputText value="#{wpis.uwagi}" />
            </p:column>
             <p:column id="editColumn" headerText="edytuj">
                 <h:commandButton  action="#{DokDAO.edit()}" actionListener="#{DokumentView.setEdytujUz(true)}" value="Edyt" >
                     <f:setPropertyActionListener target="#{DokDAO.selDokument}" value="#{wpis}"/>
                </h:commandButton>
            </p:column>
            <p:column id="deleteColumn" headerText="usuń">
                <h:commandButton  action="#{DokDAO.destroy()}" value="Usuń" >
                    <f:setPropertyActionListener target="#{DokDAO.selDokument}" value="#{wpis}"/>
                </h:commandButton>
            </p:column>
        </p:dataTable>
          <br />
          <h:commandButton actionListener="#{DokumentView.setDodajDok(true)}" value="Dodaj" rendered="#{not DokumentView.isDodajDok()}"/>
          <h:commandButton actionListener="#{DokumentView.setDodajDok(false)}" value="Wroc" rendered="#{DokumentView.isDodajDok()}"/>
    </p:outputPanel>
</ui:composition>   

